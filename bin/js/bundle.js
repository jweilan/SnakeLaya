var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var BattleView_1 = require("./module/game/battle/BattleView");
var BattleConstroll_1 = require("./module/game/battle/constrols/BattleConstroll");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("module/game/battle/BattleView.ts", BattleView_1.default);
        reg("module/game/battle/constrols/BattleConstroll.ts", BattleConstroll_1.default);
    };
    GameConfig.width = 1136;
    GameConfig.height = 640;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "horizontal";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "gameMain.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = true;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./module/game/battle/BattleView":7,"./module/game/battle/constrols/BattleConstroll":8}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 对象字典
 */
var ObjDictionary = /** @class */ (function () {
    function ObjDictionary() {
        this._container = new Object();
        this._length = 0;
    }
    Object.defineProperty(ObjDictionary.prototype, "container", {
        get: function () {
            return this._container;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjDictionary.prototype, "length", {
        get: function () {
            return this._length;
        },
        enumerable: true,
        configurable: true
    });
    ObjDictionary.prototype.add = function (key, value) {
        if (!this.containsKey(key)) {
            this._length++;
            this._container[key] = value;
        }
    };
    ObjDictionary.prototype.reset = function (key, value) {
        if (this.containsKey(key)) {
            this._container[key] = value;
        }
        else {
            console.log("已经有了。。");
        }
    };
    ObjDictionary.prototype.remove = function (key) {
        if (this._container.hasOwnProperty(key)) {
            this._container[key] = null;
            this._length--;
        }
    };
    ObjDictionary.prototype.get = function (key) {
        return this._container[key];
    };
    ObjDictionary.prototype.containsKey = function (key) {
        return this._container.hasOwnProperty(key);
    };
    ObjDictionary.prototype.clear = function () {
        this._length = 0;
        this._container = null;
    };
    return ObjDictionary;
}());
exports.default = ObjDictionary;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/*
 * @Description:枚举
 * @Author: jwei
 * @Date: 2018-11-22 16:25:13
 * @LastEditTime: 2018-11-22 16:27:06
 * @LastEditors: jwei
 */
var ToolCMD = /** @class */ (function () {
    function ToolCMD() {
    }
    ToolCMD.ROCKER_MOVE = "rocker_move";
    return ToolCMD;
}());
exports.default = ToolCMD;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 工具函数
 */
var ToolUtils = /** @class */ (function () {
    function ToolUtils() {
    }
    /**
     * 得到两点的距离。。
     * @param x1
     * @param y1
     * @param x2
     * @param y2
     */
    ToolUtils.getDistance = function (x1, y1, x2, y2) {
        return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));
    };
    return ToolUtils;
}());
exports.default = ToolUtils;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏数据
 */
var GameData = /** @class */ (function () {
    function GameData() {
    }
    GameData.beanList = []; //小豆子对象
    GameData.allSnakeList = []; //蛇对象数组
    GameData.maxSnakeNum = 10;
    GameData.allHistorySnakeNum = 0;
    return GameData;
}());
exports.default = GameData;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../../../ui/layaMaxUI");
var Camera2D_1 = require("../../utils/Camera2D");
var Snake_1 = require("../snake/Snake");
var GameConfig_1 = require("../../../GameConfig");
var Rocker_1 = require("../../utils/Rocker");
var ToolCMD_1 = require("../../../config/ToolCMD");
var GameData_1 = require("../../data/GameData");
var BattleView = /** @class */ (function (_super) {
    __extends(BattleView, _super);
    function BattleView() {
        var _this = _super.call(this) || this;
        BattleView.instance = _this;
        _this.init();
        _this._addEvent();
        return _this;
    }
    BattleView.prototype.init = function () {
        Rocker_1.default.instance.init(this.rockerMove, this.rockerBox); //操作杆
        this.snakeSelf = new Snake_1.default(GameConfig_1.default.width / 2, GameConfig_1.default.height / 2, "player");
        this.gameBox.addChild(this.snakeSelf);
        this.scoreText.changeText(this.snakeSelf.snakeEatBeanNum + "");
        this.map.graphics.drawRect(0, 0, 3000, 1500, "#FFF");
        Camera2D_1.default.instance.start(this.worldMap);
        Camera2D_1.default.instance.focus(this.snakeSelf);
        Laya.stage.on(ToolCMD_1.default.ROCKER_MOVE, this, this._getRockerAngle);
        var htmlCanvas = this.drawToCanvas(750, 1334, 0, 0);
        htmlCanvas.toBase64("image/png", 0.9, function (data) {
            console.log(data);
        });
    };
    BattleView.prototype._addEvent = function () {
        //加速
        this.speedBtn.on(Laya.Event.MOUSE_DOWN, this, this._onSpeedBtn);
        this.speedBtn.on(Laya.Event.MOUSE_UP, this, this._onSpeedBtn);
        //重新开始
        this.again.on(Laya.Event.CLICK, this, this.createPlayer);
    };
    /**
     * 重新生成自己蛇
     */
    BattleView.prototype.createPlayer = function () {
        this.snakeSelf = new Snake_1.default(GameConfig_1.default.width / 2, GameConfig_1.default.height / 2, "player");
        this.gameBox.addChild(this.snakeSelf);
        Camera2D_1.default.instance.focus(this.snakeSelf);
        GameData_1.default.allSnakeList.push(BattleView.instance.snakeSelf);
        this.scoreText.changeText(this.snakeSelf.snakeEatBeanNum + "");
        this.showUI(UIName.GAME);
    };
    /**
     * 加速的方法回调
     * @param e
     */
    BattleView.prototype._onSpeedBtn = function (e) {
        if (e.type == "mousedown") {
            this.snakeSelf.speedNow = "fast";
        }
        else {
            this.snakeSelf.speedNow = "slow";
        }
    };
    /**
     * 摇杆的回调函数
     * @param angle 弧度
     */
    BattleView.prototype._getRockerAngle = function (angle) {
        this.snakeSelf.upMove(Laya.Utils.toAngle(angle));
    };
    /**
     * 游戏实时数据
     */
    BattleView.prototype._renderUIData = function () {
        this.snakeNumText.changeText(GameData_1.default.allSnakeList.length + "");
        this.beanNumText.changeText(GameData_1.default.beanList.length + "");
        this.scoreText.changeText(this.snakeSelf.snakeEatBeanNum + "");
    };
    /**
     * 更换UI
     */
    BattleView.prototype.showUI = function (uiname) {
        switch (uiname) {
            case UIName.BEGINUI:
                break;
            case UIName.GAME:
                this.gameOver.visible = false;
                break;
            case UIName.OVERUI:
                this.gameOver.visible = true;
                break;
        }
    };
    BattleView.prototype.Update = function () {
        Camera2D_1.default.instance.update();
        this.snakeSelf.update();
        this._renderUIData();
    };
    return BattleView;
}(layaMaxUI_1.ui.gameMainUI));
exports.default = BattleView;
var UIName;
(function (UIName) {
    UIName[UIName["BEGINUI"] = 0] = "BEGINUI";
    UIName[UIName["GAME"] = 1] = "GAME";
    UIName[UIName["OVERUI"] = 2] = "OVERUI";
})(UIName = exports.UIName || (exports.UIName = {}));
},{"../../../GameConfig":1,"../../../config/ToolCMD":4,"../../../ui/layaMaxUI":14,"../../data/GameData":6,"../../utils/Camera2D":12,"../../utils/Rocker":13,"../snake/Snake":11}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ObjDictionary_1 = require("../../../../config/ObjDictionary");
var Snake_1 = require("../../snake/Snake");
var BattleView_1 = require("../BattleView");
var BeanCtrol_1 = require("../../bean/controls/BeanCtrol");
var ToolUtils_1 = require("../../../../config/ToolUtils");
var GameData_1 = require("../../../data/GameData");
var BattleConstroll = /** @class */ (function (_super) {
    __extends(BattleConstroll, _super);
    function BattleConstroll() {
        var _this = _super.call(this) || this;
        _this._snakeAiObjList = new ObjDictionary_1.default();
        _this._beanCtrl = new BeanCtrol_1.default();
        return _this;
    }
    BattleConstroll.prototype.onEnable = function () {
        this._gameBox = this.owner["gameBox"];
        this._createBean();
        this._createSnakeAi();
    };
    /**
    *  随机生成一个道具
    */
    BattleConstroll.prototype._randomCreateBean = function (x, y, col, w, score) {
        if (col === void 0) { col = Math.round(Math.random() * 7 + 1); }
        if (w === void 0) { w = Math.floor(Math.random() * 5 + 5); }
        if (score === void 0) { score = 1; }
        var bean;
        switch (col) {
            case 7:
                bean = this._beanCtrl.createBean(x, y, 50, col, 5);
                break;
            case 8:
                bean = this._beanCtrl.createBean(x, y, 30, col, 20);
                break;
            default:
                bean = this._beanCtrl.createBean(x, y, w, col, score);
        }
        GameData_1.default.beanList.push(bean);
        this._gameBox.addChild(bean);
    };
    /**
     * 在容器里生成蛇,默认ai蛇
     */
    BattleConstroll.prototype._randomCreateSnake = function (x, y, name, ai) {
        if (ai === void 0) { ai = true; }
        var snake = new Snake_1.default(x, y, name);
        snake.AI = ai;
        BattleView_1.default.instance.gameBox.addChild(snake);
        GameData_1.default.allSnakeList.push(snake);
        GameData_1.default.allHistorySnakeNum++;
        if (ai)
            this._snakeAiObjList.add(name, snake);
    };
    /**
     * 生成一堆道具
     */
    BattleConstroll.prototype._createBean = function () {
        for (var i = 0; i < 300; i++) {
            this._randomCreateBean(Math.random() * 3000, Math.random() * 1500);
        }
    };
    /**
     * 检测道具数量，补充
     */
    BattleConstroll.prototype._checkBean = function () {
        while (GameData_1.default.beanList.length < 300) {
            this._randomCreateBean(Math.random() * 3000, Math.random() * 1500);
        }
    };
    /**
     * 检测AI蛇数量，补充。
     */
    BattleConstroll.prototype._checkAiSanke = function () {
        while (this._snakeAiObjList.length < GameData_1.default.maxSnakeNum) {
            this._randomCreateSnake(Math.random() * 2500 + 100, Math.random() * 1000 + 100, "snake" + GameData_1.default.allHistorySnakeNum);
        }
    };
    /**
     * 生成AI蛇
     */
    BattleConstroll.prototype._createSnakeAi = function () {
        for (var i = 0; i < GameData_1.default.maxSnakeNum; i++) {
            this._randomCreateSnake(i * 200, i * 200, "snake" + i);
        }
        GameData_1.default.allSnakeList.push(BattleView_1.default.instance.snakeSelf);
        Laya.timer.loop(3000, this, this._snakeAiAction);
    };
    /**
     * AI蛇运动
     */
    BattleConstroll.prototype._snakeAiAction = function () {
        for (var i = 0; i < GameData_1.default.allSnakeList.length; i++) {
            var snake = GameData_1.default.allSnakeList[i];
            if (snake.AI) {
                GameData_1.default.allSnakeList[i].upMove(180 - Math.random() * 360);
                GameData_1.default.allSnakeList[i].speedNow = Math.random() < 0.9 ? "slow" : "fast";
            }
        }
    };
    /**
     * 蛇之间的碰撞检测
     */
    BattleConstroll.prototype._snakeCollision = function () {
        var head, bodys, body;
        for (var i = 0; i < GameData_1.default.allSnakeList.length; i++) {
            head = GameData_1.default.allSnakeList[i];
            for (var j = 0; j < GameData_1.default.allSnakeList.length; j++) {
                bodys = GameData_1.default.allSnakeList[j];
                if (head != bodys && !head.InvincibleSecond && !bodys.InvincibleSecond) { //不是同一条蛇，且不能有蛇是无敌的。。
                    //如果是碰头了。。就一起消失。。
                    for (var k = 1; k < bodys.bodyList.length; k++) {
                        body = bodys.bodyList[k];
                        if (ToolUtils_1.default.getDistance(head.x, head.y, body.x, body.y) <= 40) {
                            this._snakeKillChangeBean(head);
                            if (!head.AI) {
                                BattleView_1.default.instance.showUI(BattleView_1.UIName.OVERUI);
                            }
                            else
                                this._snakeAiObjList.remove(head.id);
                            head.destroy();
                            GameData_1.default.allSnakeList.splice(i, 1);
                            return;
                        }
                    }
                }
            }
        }
    };
    /**
     * 蛇死后留下的道具
     */
    BattleConstroll.prototype._snakeKillChangeBean = function (sn) {
        for (var i = 0; i < sn.bodyList.length; i++) {
            var body = sn.bodyList[i];
            this._randomCreateBean(body.x, body.y, sn.snakeColNum, 20, 5);
        }
    };
    BattleConstroll.prototype.onUpdate = function () {
        BattleView_1.default.instance.Update();
        for (var i = 0; i < GameData_1.default.allSnakeList.length; i++) {
            var snake = GameData_1.default.allSnakeList[i];
            if (snake.AI) {
                snake.update();
            }
        }
        this._checkBean();
        this._checkAiSanke();
        this._snakeCollision();
    };
    return BattleConstroll;
}(Laya.Script));
exports.default = BattleConstroll;
},{"../../../../config/ObjDictionary":3,"../../../../config/ToolUtils":5,"../../../data/GameData":6,"../../bean/controls/BeanCtrol":10,"../../snake/Snake":11,"../BattleView":7}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 道具视图
 */
var BeanView = /** @class */ (function (_super) {
    __extends(BeanView, _super);
    function BeanView() {
        var _this = _super.call(this) || this;
        _this._score = 1;
        return _this;
    }
    Object.defineProperty(BeanView.prototype, "score", {
        get: function () {
            return this._score;
        },
        enumerable: true,
        configurable: true
    });
    BeanView.prototype.build = function (x, y, src, w, score) {
        this.loadImage(src);
        this.width = w;
        this.height = w;
        this.pos(x, y);
        this.pivot(w / 2, w / 2);
        this._score = score;
    };
    BeanView.prototype.addEvent = function () {
    };
    BeanView.prototype.removeEvent = function () {
    };
    BeanView.prototype.destroy = function () {
        this.removeSelf();
        Laya.Pool.recover("bean", this);
    };
    return BeanView;
}(Laya.Sprite));
exports.default = BeanView;
},{}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BeanView_1 = require("../BeanView");
/**
 * 食物产品管理器。。
 */
var BeanCtrol = /** @class */ (function () {
    function BeanCtrol() {
        BeanCtrol.instance = this;
    }
    /**
     * 创建一个指定位置的道具。
     */
    BeanCtrol.prototype.createBean = function (x, y, w, col, score) {
        if (col === void 0) { col = Math.round(Math.random() * 7 + 1); }
        if (score === void 0) { score = 1; }
        var src = "images/bean" + col + ".png";
        var bean = new BeanView_1.default();
        bean.build(x, y, src, w, score);
        return bean;
    };
    return BeanCtrol;
}());
exports.default = BeanCtrol;
},{"../BeanView":9}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ToolUtils_1 = require("../../../config/ToolUtils");
var BattleView_1 = require("../battle/BattleView");
var GameData_1 = require("../../data/GameData");
/**
 * 蛇类
 */
var Snake = /** @class */ (function (_super) {
    __extends(Snake, _super);
    function Snake(x, y, id, col) {
        if (col === void 0) { col = Math.round(Math.random() * 4 + 1); }
        var _this = _super.call(this) || this;
        _this.AI = false; //是否为ai;
        _this.bodyList = []; //蛇身数组
        _this.bodyListPos = []; //蛇身每一节改成一个点。。
        _this.snakeEatBeanNum = 20; //蛇身长度
        _this.oneBodyBeanNum = 5; //吃几颗豆增加一节身体
        _this.speedObj = { "slow": 4, "fast": 6, "rotation": 0 }; //蛇移动速度
        _this.speedNow = "slow";
        _this.kill = false; //是否挂了
        _this.InvincibleSecond = true; //无敌3秒
        _this.pathList = []; //蛇头移动轨迹数组（以最小单位1建立数组）,队列
        _this.id = id;
        _this.snakeColNum = col;
        _this.zOrder = 1;
        _this.width = 40;
        _this.height = 40;
        _this.pivot(20, 20);
        _this.pos(x, y);
        _this.nameText = new Laya.Text();
        _this.nameText.text = _this.id;
        _this.nameText.pos(20, 20);
        _this.nameText.pivot(20, 40);
        _this.addChild(_this.nameText);
        _this.init();
        Laya.timer.once(3000, _this, _this._changeInvin);
        return _this;
    }
    Snake.prototype._changeInvin = function () {
        this.InvincibleSecond = false;
    };
    Snake.prototype.init = function () {
        this.loadImage("images/head" + this.snakeColNum + ".png");
        //初始化蛇身
        for (var i = 0; i < Math.floor(this.snakeEatBeanNum / this.oneBodyBeanNum); i++) {
            this._addBody(this.x - i * 20, this.y);
        }
        this._InvincibleEachAni();
    };
    /**
     * 添加一节身体
     * @param x
     * @param y
     */
    Snake.prototype._addBody = function (x, y) {
        var sp = new Laya.Sprite();
        sp.loadImage("images/body" + this.snakeColNum + ".png");
        sp.pivot(20, 20);
        sp.pos(x, y);
        this.bodyList.unshift(sp);
        BattleView_1.default.instance.gameBox.addChild(sp);
    };
    //蛇身移动
    Snake.prototype._bodyMove = function () {
        var obj;
        for (var i = 0; i < this.bodyList.length; i++) {
            obj = this.pathList[20 * i];
            if (obj) {
                this.bodyList[i].pos(obj.x, obj.y);
            }
        }
        this.pathList.splice(this.bodyList.length * 20);
        this._checkSnakeBody();
    };
    Snake.prototype._bodyMove1 = function () {
        this.bodyList[0].x = this.x;
        this.bodyList[0].y = this.y;
        for (var i = this.bodyList.length - 1; i > 0; i--) {
            this.bodyList[i].x = this.bodyList[i - 1].x;
            this.bodyList[i].y = this.bodyList[i - 1].y;
        }
        this._checkSnakeBody1();
    };
    Snake.prototype._checkSnakeBody1 = function () {
        var len = Math.floor(this.snakeEatBeanNum / this.oneBodyBeanNum) - this.bodyList.length;
        if (len) {
            var obj = this.bodyList.slice(-1);
            this._addBody(obj["x"], obj["y"]);
        }
    };
    //检查蛇身
    Snake.prototype._checkSnakeBody = function () {
        var len = Math.floor(this.snakeEatBeanNum / this.oneBodyBeanNum) - this.bodyList.length;
        if (len) {
            var obj = this.pathList.pop();
            this._addBody(obj["x"], obj["y"]);
        }
    };
    //判断有无吃到东西。。。
    Snake.prototype._checkEatProp = function () {
        for (var i = 0; i < GameData_1.default.beanList.length; i++) {
            if ((ToolUtils_1.default.getDistance(this.x, this.y, GameData_1.default.beanList[i].x, GameData_1.default.beanList[i].y) - GameData_1.default.beanList[i].width / 2) < 30) {
                var bean = GameData_1.default.beanList.splice(i, 1);
                this.snakeEatBeanNum += bean[0].score;
                Laya.Tween.to(bean[0], {
                    x: this.x,
                    y: this.y
                }, 30, null, Laya.Handler.create(null, function (obj) {
                    obj.destroy();
                }, bean));
            }
        }
    };
    // 遍历无敌动画
    Snake.prototype._InvincibleEachAni = function () {
        this._loopSpAni(this);
        for (var i = 1; i < this.bodyList.length; i++) {
            this._loopSpAni(this.bodyList[i]);
        }
    };
    /**无敌的动画循环 */
    Snake.prototype._loopSpAni = function (sp) {
        var alpha = Math.abs(sp.alpha - 1);
        if (!this.InvincibleSecond) { //结束的条件
            sp.alpha = 1;
            return;
        }
        Laya.Tween.to(sp, {
            alpha: alpha,
        }, 100, null, Laya.Handler.create(this, this._loopSpAni, [sp]));
    };
    //改变方向
    Snake.prototype.upMove = function (angle) {
        this.rotation = angle;
        this.speedObj["rotation"] = Laya.Utils.toRadian(angle);
        this.nameText.rotation = -angle;
    };
    //销毁自身
    Snake.prototype.destroy = function () {
        this.kill = true;
        for (var i = 0; i < this.bodyList.length; i++) {
            // GameUI.instance.gameBox.removeChild(this.bodyList[i]);
            this.bodyList[i].removeSelf();
            this.removeSelf();
        }
    };
    Snake.prototype.update = function () {
        if (this.kill)
            return;
        var speed = this.speedObj[this.speedNow], old = { x: this.x, y: this.y };
        this.x += speed * Math.cos(this.speedObj["rotation"]);
        this.y += speed * Math.sin(this.speedObj["rotation"]);
        if (this.x < 20)
            this.x = 20;
        if (this.x > 2980)
            this.x = 2980;
        if (this.y < 20)
            this.y = 20;
        if (this.y > 1480)
            this.y = 1480;
        for (var i = 0; i < speed; i++) { //记录每次走过的坐标。。1为单位
            var x = (this.x - old.x) * i / speed + old.x, y = (this.y - old.y) * i / speed + old.y;
            this.pathList.unshift({ x: x, y: y });
        }
        this._bodyMove1();
        this._checkEatProp();
    };
    return Snake;
}(Laya.Sprite));
exports.default = Snake;
},{"../../../config/ToolUtils":5,"../../data/GameData":6,"../battle/BattleView":7}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("../../GameConfig");
/*
 * @Description: 2d相机跟随
 * @Author: jwei
 * @Date: 2018-11-22 12:03:19
 * @LastEditTime: 2018-11-23 10:58:41
 * @LastEditors: Please set LastEditors
 */
var Camera2D = /** @class */ (function () {
    function Camera2D() {
        this._mapW = 3000;
        this._mapH = 1500;
    }
    Object.defineProperty(Camera2D, "instance", {
        get: function () {
            this._instance = this._instance || new Camera2D;
            return this._instance;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Camera2D.prototype, "cameraView", {
        get: function () {
            return this._cameraView;
        },
        enumerable: true,
        configurable: true
    });
    Camera2D.prototype.start = function (scene) {
        this._scene = scene;
        this._cameraView = new Laya.Rectangle(0, 0, GameConfig_1.default.width, GameConfig_1.default.height);
        this._scene.scrollRect = this._cameraView;
    };
    /**
     * @msg: 绑定主视角
     * @param {type}
     * @return:
     */
    Camera2D.prototype.focus = function (target) {
        this._focusTarget = target;
        this._cameraView.x = this._focusTarget.x - (GameConfig_1.default.width >> 1);
        this._cameraView.y = this._focusTarget.y - (GameConfig_1.default.height >> 1);
    };
    /**
     * @msg:实时更新
     * @param {type}
     * @return:
     */
    Camera2D.prototype.update = function () {
        if (this._focusTarget) {
            if (this._focusTarget.x > 0 && (this._focusTarget.x - GameConfig_1.default.width / 2) < this._mapW) {
                this._cameraView.x = this._focusTarget.x - (GameConfig_1.default.width >> 1);
            }
            if (this._focusTarget.y > (GameConfig_1.default.height >> 1) || (this._focusTarget.y + GameConfig_1.default.height / 2) < this._mapH) {
                this._cameraView.y = this._focusTarget.y - (GameConfig_1.default.height >> 1);
            }
        }
    };
    return Camera2D;
}());
exports.default = Camera2D;
},{"../../GameConfig":1}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ToolCMD_1 = require("../../config/ToolCMD");
/*
 * @Description: 操作杆
 * @Author:jwei
 * @Date: 2018-11-22 12:04:22
 * @LastEditTime: 2018-11-23 10:44:05
 * @LastEditors: Please set LastEditors
 */
var Rocker = /** @class */ (function () {
    function Rocker() {
        //多点触控，记录当前触控id
        this._touchId = -1;
    }
    Object.defineProperty(Rocker, "instance", {
        get: function () {
            this._instance = this._instance || new Rocker;
            return this._instance;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @msg: 初始化参数
     * @param {type}
     * @return:
     */
    Rocker.prototype.init = function (sp, spBox) {
        this._centerPosition = new Laya.Point();
        this._centerPosition.x = sp.x;
        this._centerPosition.y = sp.y;
        this._bigSp = spBox;
        this._minSp = sp;
        sp.on(Laya.Event.MOUSE_DOWN, this, this._onTouchDown);
        return spBox;
    };
    /**
     * @msg：刚按下执行的方法
     * @param {type}
     * @return:
     */
    Rocker.prototype._onTouchDown = function (ent) {
        if (this._touchId == -1) {
            this._touchId = ent.touchId;
            Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this._onTouchMove);
            Laya.stage.on(Laya.Event.MOUSE_UP, this, this._onTouchUp);
        }
    };
    /**
     * @msg:移动执行的方法
     * @param {type}
     * @return:
     */
    Rocker.prototype._onTouchMove = function (ent) {
        if (this._touchId != -1 && ent.touchId == this._touchId) {
            var R2 = this._bigSp.width / 2 - this._minSp.width / 2;
            var R = Math.sqrt(Math.pow(ent.stageX - this._centerPosition.x, 2) + Math.pow(ent.stageY - this._centerPosition.y, 2));
            //是否大于两圆半径之和
            if (R > R2)
                R = R2;
            var cs = Math.atan2(ent.stageY - this._centerPosition.y, ent.stageX - this._centerPosition.x);
            var cx = R * Math.cos(cs) + this._centerPosition.x, cy = R * Math.sin(cs) + this._centerPosition.y;
            this._minSp.pos(cx, cy);
            Laya.stage.event(ToolCMD_1.default.ROCKER_MOVE, cs);
        }
    };
    /**
     * @msg: 手抬起,中心的圆要弹回去
     * @param {type}
     * @return:
     */
    Rocker.prototype._onTouchUp = function (ent) {
        //判断是否有按下和当前抬起的是否为原来那个点。
        if (this._touchId != -1 && ent.touchId == this._touchId) {
            this._touchId = -1;
            Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this._onTouchMove);
            Laya.stage.off(Laya.Event.MOUSE_UP, this, this._onTouchUp);
            Laya.Tween.to(this._minSp, {
                x: this._centerPosition.x,
                y: this._centerPosition.y,
            }, 100);
        }
    };
    return Rocker;
}());
exports.default = Rocker;
},{"../../config/ToolCMD":4}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var ui;
(function (ui) {
    var gameMainUI = /** @class */ (function (_super) {
        __extends(gameMainUI, _super);
        function gameMainUI() {
            return _super.call(this) || this;
        }
        gameMainUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("gameMain");
        };
        return gameMainUI;
    }(Scene));
    ui.gameMainUI = gameMainUI;
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NvZnR3YXJlL0xheWFBaXJJREUgMi4wL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvY29uZmlnL09iakRpY3Rpb25hcnkudHMiLCJzcmMvY29uZmlnL1Rvb2xDTUQudHMiLCJzcmMvY29uZmlnL1Rvb2xVdGlscy50cyIsInNyYy9tb2R1bGUvZGF0YS9HYW1lRGF0YS50cyIsInNyYy9tb2R1bGUvZ2FtZS9iYXR0bGUvQmF0dGxlVmlldy50cyIsInNyYy9tb2R1bGUvZ2FtZS9iYXR0bGUvY29uc3Ryb2xzL0JhdHRsZUNvbnN0cm9sbC50cyIsInNyYy9tb2R1bGUvZ2FtZS9iZWFuL0JlYW5WaWV3LnRzIiwic3JjL21vZHVsZS9nYW1lL2JlYW4vY29udHJvbHMvQmVhbkN0cm9sLnRzIiwic3JjL21vZHVsZS9nYW1lL3NuYWtlL1NuYWtlLnRzIiwic3JjL21vZHVsZS91dGlscy9DYW1lcmEyRC50cyIsInNyYy9tb2R1bGUvdXRpbHMvUm9ja2VyLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsOERBQXdEO0FBQ3hELGtGQUE0RTtBQUM1RTs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLGtDQUFrQyxFQUFDLG9CQUFVLENBQUMsQ0FBQztRQUNuRCxHQUFHLENBQUMsaURBQWlELEVBQUMseUJBQWUsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFqQk0sZ0JBQUssR0FBUSxJQUFJLENBQUM7SUFDbEIsaUJBQU0sR0FB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QUMsUUFBUSxFQUFDO1lBQ2pELElBQUksQ0FBQyxRQUFRLEdBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtZQUM1RCxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3pELElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUM7Z0JBQ3RCLENBQUMsRUFBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7Z0JBQ3hCLENBQUMsRUFBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7YUFDM0IsRUFBQyxHQUFHLENBQUMsQ0FBQztTQUNWO0lBQ0wsQ0FBQztJQUNMLGFBQUM7QUFBRCxDQWxGQSxBQWtGQyxJQUFBOzs7OztBQ3hGRCxJQUFPLEtBQUssR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ3hCLElBQWMsRUFBRSxDQXFCZjtBQXJCRCxXQUFjLEVBQUU7SUFDWjtRQUFnQyw4QkFBSztRQWNqQzttQkFBZSxpQkFBTztRQUFBLENBQUM7UUFDdkIsbUNBQWMsR0FBZDtZQUNJLGlCQUFNLGNBQWMsV0FBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDL0IsQ0FBQztRQUNMLGlCQUFDO0lBQUQsQ0FuQkEsQUFtQkMsQ0FuQitCLEtBQUssR0FtQnBDO0lBbkJZLGFBQVUsYUFtQnRCLENBQUE7QUFDTCxDQUFDLEVBckJhLEVBQUUsR0FBRixVQUFFLEtBQUYsVUFBRSxRQXFCZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEJhdHRsZVZpZXcgZnJvbSBcIi4vbW9kdWxlL2dhbWUvYmF0dGxlL0JhdHRsZVZpZXdcIlxuaW1wb3J0IEJhdHRsZUNvbnN0cm9sbCBmcm9tIFwiLi9tb2R1bGUvZ2FtZS9iYXR0bGUvY29uc3Ryb2xzL0JhdHRsZUNvbnN0cm9sbFwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJob3Jpem9udGFsXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJnYW1lTWFpbi5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj10cnVlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJtb2R1bGUvZ2FtZS9iYXR0bGUvQmF0dGxlVmlldy50c1wiLEJhdHRsZVZpZXcpO1xuICAgICAgICByZWcoXCJtb2R1bGUvZ2FtZS9iYXR0bGUvY29uc3Ryb2xzL0JhdHRsZUNvbnN0cm9sbC50c1wiLEJhdHRsZUNvbnN0cm9sbCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCIvKipcclxuICog5a+56LGh5a2X5YW4XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYmpEaWN0aW9uYXJ5e1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLl9jb250YWluZXI9bmV3IE9iamVjdCgpO1xyXG4gICAgICAgIHRoaXMuX2xlbmd0aD0wO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfY29udGFpbmVyOk9iamVjdDtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGNvbnRhaW5lcigpOk9iamVjdHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfbGVuZ3RoOm51bWJlcjtcclxuICAgIHB1YmxpYyBnZXQgbGVuZ3RoKCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgYWRkKGtleTphbnksdmFsdWU6YW55KTp2b2lke1xyXG4gICAgICAgIGlmKCF0aGlzLmNvbnRhaW5zS2V5KGtleSkpe1xyXG4gICAgICAgICAgICB0aGlzLl9sZW5ndGgrKztcclxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyW2tleV09dmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIHJlc2V0KGtleTphbnksdmFsdWU6YW55KTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuY29udGFpbnNLZXkoa2V5KSl7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lcltrZXldPXZhbHVlO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW3sue7j+acieS6huOAguOAglwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyByZW1vdmUoa2V5OmFueSk6dm9pZHtcclxuICAgICAgICBpZih0aGlzLl9jb250YWluZXIuaGFzT3duUHJvcGVydHkoa2V5KSl7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lcltrZXldPW51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2xlbmd0aC0tO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQoa2V5OmFueSk6YW55e1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXJba2V5XTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBjb250YWluc0tleShrZXk6YW55KTpib29sZWFue1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXIuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBjbGVhcigpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fbGVuZ3RoPTA7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyPW51bGw7XHJcblxyXG4gICAgfVxyXG5cclxufSIsIi8qXHJcbiAqIEBEZXNjcmlwdGlvbjrmnprkuL5cclxuICogQEF1dGhvcjogandlaVxyXG4gKiBARGF0ZTogMjAxOC0xMS0yMiAxNjoyNToxM1xyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDE4LTExLTIyIDE2OjI3OjA2XHJcbiAqIEBMYXN0RWRpdG9yczogandlaVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbENNRHtcclxuICAgIHN0YXRpYyBST0NLRVJfTU9WRTpzdHJpbmc9XCJyb2NrZXJfbW92ZVwiO1xyXG59XHJcbiIsIi8qKlxyXG4gKiDlt6Xlhbflh73mlbBcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xVdGlsc3tcclxuICAgIC8qKlxyXG4gICAgICog5b6X5Yiw5Lik54K555qE6Led56a744CC44CCXHJcbiAgICAgKiBAcGFyYW0geDEgXHJcbiAgICAgKiBAcGFyYW0geTEgXHJcbiAgICAgKiBAcGFyYW0geDIgXHJcbiAgICAgKiBAcGFyYW0geTIgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXREaXN0YW5jZSh4MSx5MSx4Mix5Mik6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coeDEteDIsMikrTWF0aC5wb3coeTEteTIsMikpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEJlYW5WaWV3IGZyb20gXCIuLi9nYW1lL2JlYW4vQmVhblZpZXdcIjtcclxuaW1wb3J0IFNuYWtlIGZyb20gXCIuLi9nYW1lL3NuYWtlL1NuYWtlXCI7XHJcbi8qKlxyXG4gKiDmuLjmiI/mlbDmja5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVEYXRhe1xyXG4gICAgc3RhdGljIGJlYW5MaXN0OkFycmF5PEJlYW5WaWV3Pj1bXTsgLy/lsI/osYblrZDlr7nosaFcclxuICAgIHN0YXRpYyBhbGxTbmFrZUxpc3Q6QXJyYXk8U25ha2U+PVtdOy8v6JuH5a+56LGh5pWw57uEXHJcbiAgICBzdGF0aWMgbWF4U25ha2VOdW06bnVtYmVyPTEwO1xyXG4gICAgc3RhdGljIGFsbEhpc3RvcnlTbmFrZU51bTpudW1iZXI9MDtcclxufVxyXG4iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLi8uLi8uLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IENhbWVyYTJEIGZyb20gXCIuLi8uLi91dGlscy9DYW1lcmEyRFwiO1xyXG5pbXBvcnQgU25ha2UgZnJvbSBcIi4uL3NuYWtlL1NuYWtlXCI7XHJcbmltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuLi8uLi8uLi9HYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBSb2NrZXIgZnJvbSBcIi4uLy4uL3V0aWxzL1JvY2tlclwiO1xyXG5pbXBvcnQgVG9vbENNRCBmcm9tIFwiLi4vLi4vLi4vY29uZmlnL1Rvb2xDTURcIjtcclxuaW1wb3J0IEdhbWVEYXRhIGZyb20gXCIuLi8uLi9kYXRhL0dhbWVEYXRhXCI7XHJcbmltcG9ydCB3b3JsZE1hcHMgZnJvbSBcIi4uLy4uL3V0aWxzL3dvcmxkTWFwc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmF0dGxlVmlldyBleHRlbmRzIHVpLmdhbWVNYWluVUl7XHJcblxyXG4gICAgc3RhdGljIGluc3RhbmNlOkJhdHRsZVZpZXc7XHJcbiAgICBcclxuICAgIHNuYWtlU2VsZjpTbmFrZTsgLy/om4dcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBCYXR0bGVWaWV3Lmluc3RhbmNlPXRoaXM7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5fYWRkRXZlbnQoKTtcclxuICAgIH1cclxuICAgIGluaXQoKTp2b2lke1xyXG4gICAgICAgIFJvY2tlci5pbnN0YW5jZS5pbml0KHRoaXMucm9ja2VyTW92ZSx0aGlzLnJvY2tlckJveCk7Ly/mk43kvZzmnYZcclxuXHJcbiAgICAgICAgdGhpcy5zbmFrZVNlbGY9bmV3IFNuYWtlKEdhbWVDb25maWcud2lkdGgvMixHYW1lQ29uZmlnLmhlaWdodC8yLFwicGxheWVyXCIpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUJveC5hZGRDaGlsZCh0aGlzLnNuYWtlU2VsZik7XHJcbiAgICAgICAgdGhpcy5zY29yZVRleHQuY2hhbmdlVGV4dCh0aGlzLnNuYWtlU2VsZi5zbmFrZUVhdEJlYW5OdW0rXCJcIik7XHJcbiAgICAgICAgdGhpcy5tYXAuZ3JhcGhpY3MuZHJhd1JlY3QoMCwwLDMwMDAsMTUwMCxcIiNGRkZcIik7XHJcblxyXG4gICAgICAgIENhbWVyYTJELmluc3RhbmNlLnN0YXJ0KHRoaXMud29ybGRNYXApOyBcclxuICAgICAgICBDYW1lcmEyRC5pbnN0YW5jZS5mb2N1cyh0aGlzLnNuYWtlU2VsZik7XHJcblxyXG4gICAgICAgIExheWEuc3RhZ2Uub24oVG9vbENNRC5ST0NLRVJfTU9WRSx0aGlzLHRoaXMuX2dldFJvY2tlckFuZ2xlKTtcclxuXHJcblxyXG4gICAgICAgIHZhciBodG1sQ2FudmFzOkxheWEuSFRNTENhbnZhcz10aGlzLmRyYXdUb0NhbnZhcyg3NTAsMTMzNCwwLDApO1xyXG4gICAgICAgIGh0bWxDYW52YXMudG9CYXNlNjQoXCJpbWFnZS9wbmdcIiwwLjksZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2FkZEV2ZW50KCk6dm9pZHtcclxuICAgICAgICAvL+WKoOmAn1xyXG4gICAgICAgIHRoaXMuc3BlZWRCdG4ub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLHRoaXMsdGhpcy5fb25TcGVlZEJ0bik7XHJcbiAgICAgICAgdGhpcy5zcGVlZEJ0bi5vbihMYXlhLkV2ZW50Lk1PVVNFX1VQLHRoaXMsdGhpcy5fb25TcGVlZEJ0bik7XHJcblxyXG4gICAgICAgIC8v6YeN5paw5byA5aeLXHJcbiAgICAgICAgdGhpcy5hZ2Fpbi5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsdGhpcy5jcmVhdGVQbGF5ZXIpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDph43mlrDnlJ/miJDoh6rlt7Hom4dcclxuICAgICAqL1xyXG4gICAgY3JlYXRlUGxheWVyKCk6dm9pZHtcclxuICAgICAgICB0aGlzLnNuYWtlU2VsZj1uZXcgU25ha2UoR2FtZUNvbmZpZy53aWR0aC8yLEdhbWVDb25maWcuaGVpZ2h0LzIsXCJwbGF5ZXJcIik7XHJcbiAgICAgICAgdGhpcy5nYW1lQm94LmFkZENoaWxkKHRoaXMuc25ha2VTZWxmKTtcclxuICAgICAgICBDYW1lcmEyRC5pbnN0YW5jZS5mb2N1cyh0aGlzLnNuYWtlU2VsZik7XHJcbiAgICAgICAgR2FtZURhdGEuYWxsU25ha2VMaXN0LnB1c2goQmF0dGxlVmlldy5pbnN0YW5jZS5zbmFrZVNlbGYpO1xyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0LmNoYW5nZVRleHQodGhpcy5zbmFrZVNlbGYuc25ha2VFYXRCZWFuTnVtK1wiXCIpO1xyXG4gICAgICAgIHRoaXMuc2hvd1VJKFVJTmFtZS5HQU1FKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6YCf55qE5pa55rOV5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gZSBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfb25TcGVlZEJ0bihlOkxheWEuRXZlbnQpOnZvaWR7XHJcbiAgICAgICAgaWYoZS50eXBlPT1cIm1vdXNlZG93blwiKXtcclxuICAgICAgICAgICAgdGhpcy5zbmFrZVNlbGYuc3BlZWROb3c9XCJmYXN0XCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuc25ha2VTZWxmLnNwZWVkTm93PVwic2xvd1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5pGH5p2G55qE5Zue6LCD5Ye95pWwXHJcbiAgICAgKiBAcGFyYW0gYW5nbGUg5byn5bqmXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX2dldFJvY2tlckFuZ2xlKGFuZ2xlKTp2b2lke1xyXG4gICAgICAgIHRoaXMuc25ha2VTZWxmLnVwTW92ZShMYXlhLlV0aWxzLnRvQW5nbGUoYW5nbGUpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5ri45oiP5a6e5pe25pWw5o2uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX3JlbmRlclVJRGF0YSgpOnZvaWR7XHJcbiAgICAgICB0aGlzLnNuYWtlTnVtVGV4dC5jaGFuZ2VUZXh0KEdhbWVEYXRhLmFsbFNuYWtlTGlzdC5sZW5ndGgrXCJcIik7XHJcbiAgICAgICB0aGlzLmJlYW5OdW1UZXh0LmNoYW5nZVRleHQoR2FtZURhdGEuYmVhbkxpc3QubGVuZ3RoK1wiXCIpO1xyXG4gICAgICAgdGhpcy5zY29yZVRleHQuY2hhbmdlVGV4dCh0aGlzLnNuYWtlU2VsZi5zbmFrZUVhdEJlYW5OdW0rXCJcIik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOabtOaNolVJXHJcbiAgICAgKi9cclxuICAgIHNob3dVSSh1aW5hbWUpOnZvaWR7XHJcbiAgICAgICAgc3dpdGNoKHVpbmFtZSl7XHJcbiAgICAgICAgICAgIGNhc2UgVUlOYW1lLkJFR0lOVUk6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVSU5hbWUuR0FNRTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIudmlzaWJsZT1mYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVJTmFtZS5PVkVSVUk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPdmVyLnZpc2libGU9dHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFVwZGF0ZSgpOnZvaWR7XHJcbiAgICAgICAgQ2FtZXJhMkQuaW5zdGFuY2UudXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5zbmFrZVNlbGYudXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyVUlEYXRhKCk7XHJcbiAgICB9XHJcblxyXG59XHJcbmV4cG9ydCBlbnVtIFVJTmFtZXtcclxuICAgIEJFR0lOVUksXHJcbiAgICBHQU1FLFxyXG4gICAgT1ZFUlVJLFxyXG59IiwiaW1wb3J0IE9iakRpY3Rpb25hcnkgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbmZpZy9PYmpEaWN0aW9uYXJ5XCI7XHJcbmltcG9ydCBTbmFrZSBmcm9tIFwiLi4vLi4vc25ha2UvU25ha2VcIjtcclxuaW1wb3J0IEJhdHRsZVZpZXcsIHsgVUlOYW1lIH0gZnJvbSBcIi4uL0JhdHRsZVZpZXdcIjtcclxuaW1wb3J0IEJlYW5DdHJvbCBmcm9tIFwiLi4vLi4vYmVhbi9jb250cm9scy9CZWFuQ3Ryb2xcIjtcclxuaW1wb3J0IFF1YWR0cmVlIGZyb20gXCIuLi8uLi8uLi8uLi9jb25maWcvUXVhZHRyZWVcIjtcclxuaW1wb3J0IFRvb2xVdGlscyBmcm9tIFwiLi4vLi4vLi4vLi4vY29uZmlnL1Rvb2xVdGlsc1wiO1xyXG5pbXBvcnQgR2FtZURhdGEgZnJvbSBcIi4uLy4uLy4uL2RhdGEvR2FtZURhdGFcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhdHRsZUNvbnN0cm9sbCBleHRlbmRzIExheWEuU2NyaXB0e1xyXG4gICAgIC8qKiBAcHJvcCB7bmFtZTpCZWFuLHRpcHM6XCLpgZPlhbdcIix0eXBlOlByZWZhYn0gKi9cclxuICAgICBCZWFuOkxheWEuUHJlZmFiO1xyXG5cclxuICAgICBwcml2YXRlIF9nYW1lQm94OkxheWEuU3ByaXRlO1xyXG4gICAgIHByaXZhdGUgX3NuYWtlQWlPYmpMaXN0Ok9iakRpY3Rpb25hcnk9bmV3IE9iakRpY3Rpb25hcnkoKTtcclxuICAgICBwcml2YXRlIF9iZWFuQ3RybDpCZWFuQ3Ryb2w9bmV3IEJlYW5DdHJvbCgpO1xyXG4gICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgIHN1cGVyKCk7XHJcbiAgICAgfVxyXG4gICAgIG9uRW5hYmxlKCk6dm9pZHtcclxuICAgICAgICAgdGhpcy5fZ2FtZUJveCA9IHRoaXMub3duZXJbXCJnYW1lQm94XCJdIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgICB0aGlzLl9jcmVhdGVCZWFuKCk7XHJcbiAgICAgICAgIHRoaXMuX2NyZWF0ZVNuYWtlQWkoKTtcclxuICAgICB9XHJcbiAgICAgIC8qKlxyXG4gICAgICAqICDpmo/mnLrnlJ/miJDkuIDkuKrpgZPlhbdcclxuICAgICAgKi9cclxuICAgICBwcml2YXRlIF9yYW5kb21DcmVhdGVCZWFuKHgseSxjb2w6bnVtYmVyPU1hdGgucm91bmQoTWF0aC5yYW5kb20oKSo3KzEpLHc6bnVtYmVyPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo1KzUpLHNjb3JlOm51bWJlcj0xKTp2b2lke1xyXG4gICAgICAgICB2YXIgYmVhbjtcclxuICAgICAgICAgc3dpdGNoKGNvbCl7XHJcbiAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgYmVhbj0gdGhpcy5fYmVhbkN0cmwuY3JlYXRlQmVhbih4LHksNTAsY29sLDUpXHJcbiAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgYmVhbj0gdGhpcy5fYmVhbkN0cmwuY3JlYXRlQmVhbih4LHksMzAsY29sLDIwKVxyXG4gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICBiZWFuPSB0aGlzLl9iZWFuQ3RybC5jcmVhdGVCZWFuKHgseSx3LGNvbCxzY29yZSlcclxuICAgICAgICAgfVxyXG4gICAgICAgICBHYW1lRGF0YS5iZWFuTGlzdC5wdXNoKGJlYW4pO1xyXG4gICAgICAgICB0aGlzLl9nYW1lQm94LmFkZENoaWxkKGJlYW4pO1xyXG4gICAgIH1cclxuICAgICAvKipcclxuICAgICAgKiDlnKjlrrnlmajph4znlJ/miJDom4cs6buY6K6kYWnom4dcclxuICAgICAgKi9cclxuICAgICBwcml2YXRlIF9yYW5kb21DcmVhdGVTbmFrZSh4LHksbmFtZTpzdHJpbmcsYWk6Ym9vbGVhbj10cnVlKTp2b2lke1xyXG4gICAgICAgICB2YXIgc25ha2UgPSBuZXcgU25ha2UoeCx5LG5hbWUpO1xyXG4gICAgICAgICAgICAgc25ha2UuQUk9YWk7XHJcbiAgICAgICAgICAgICBCYXR0bGVWaWV3Lmluc3RhbmNlLmdhbWVCb3guYWRkQ2hpbGQoc25ha2UpO1xyXG4gICAgICAgICAgICAgR2FtZURhdGEuYWxsU25ha2VMaXN0LnB1c2goc25ha2UpOyBcclxuICAgICAgICAgICAgIEdhbWVEYXRhLmFsbEhpc3RvcnlTbmFrZU51bSsrO1xyXG4gICAgICAgICAgICAgaWYoYWkpdGhpcy5fc25ha2VBaU9iakxpc3QuYWRkKG5hbWUsc25ha2UpO1xyXG4gICAgIH1cclxuICAgICAvKipcclxuICAgICAgKiDnlJ/miJDkuIDloIbpgZPlhbdcclxuICAgICAgKi9cclxuICAgICBwcml2YXRlIF9jcmVhdGVCZWFuKCk6dm9pZHtcclxuICAgICAgICAgZm9yKHZhciBpPTA7aTwzMDA7aSsrKXtcclxuICAgICAgICAgICAgIHRoaXMuX3JhbmRvbUNyZWF0ZUJlYW4oTWF0aC5yYW5kb20oKSozMDAwLE1hdGgucmFuZG9tKCkqMTUwMCk7XHJcbiAgICAgICAgIH1cclxuICAgICB9XHJcbiAgICAgLyoqXHJcbiAgICAgICog5qOA5rWL6YGT5YW35pWw6YeP77yM6KGl5YWFXHJcbiAgICAgICovXHJcbiAgICAgcHJpdmF0ZSBfY2hlY2tCZWFuKCk6dm9pZHtcclxuICAgICAgICAgd2hpbGUoR2FtZURhdGEuYmVhbkxpc3QubGVuZ3RoPDMwMCl7XHJcbiAgICAgICAgICAgICB0aGlzLl9yYW5kb21DcmVhdGVCZWFuKE1hdGgucmFuZG9tKCkqMzAwMCxNYXRoLnJhbmRvbSgpKjE1MDApO1xyXG4gICAgICAgICB9XHJcbiAgICAgfVxyXG4gICAgIC8qKlxyXG4gICAgICAqIOajgOa1i0FJ6JuH5pWw6YeP77yM6KGl5YWF44CCXHJcbiAgICAgICovXHJcbiAgICAgcHJpdmF0ZSBfY2hlY2tBaVNhbmtlKCk6dm9pZHtcclxuICAgICAgICAgd2hpbGUodGhpcy5fc25ha2VBaU9iakxpc3QubGVuZ3RoPEdhbWVEYXRhLm1heFNuYWtlTnVtKXtcclxuICAgICAgICAgICAgIHRoaXMuX3JhbmRvbUNyZWF0ZVNuYWtlKE1hdGgucmFuZG9tKCkqMjUwMCsxMDAsTWF0aC5yYW5kb20oKSoxMDAwKzEwMCxcInNuYWtlXCIrR2FtZURhdGEuYWxsSGlzdG9yeVNuYWtlTnVtKTtcclxuICAgICAgICAgfVxyXG4gICAgIH1cclxuICAgICAvKipcclxuICAgICAgKiDnlJ/miJBBSeibh1xyXG4gICAgICAqL1xyXG4gICAgIHByaXZhdGUgX2NyZWF0ZVNuYWtlQWkoKTp2b2lke1xyXG4gICAgICAgICBmb3IodmFyIGk9MDtpPEdhbWVEYXRhLm1heFNuYWtlTnVtO2krKyl7XHJcbiAgICAgICAgICAgIHRoaXMuX3JhbmRvbUNyZWF0ZVNuYWtlKGkqMjAwLGkqMjAwLFwic25ha2VcIitpKTtcclxuICAgICAgICAgfVxyXG4gICAgICAgICBHYW1lRGF0YS5hbGxTbmFrZUxpc3QucHVzaChCYXR0bGVWaWV3Lmluc3RhbmNlLnNuYWtlU2VsZik7XHJcbiAgICAgICAgIExheWEudGltZXIubG9vcCgzMDAwLHRoaXMsdGhpcy5fc25ha2VBaUFjdGlvbik7XHJcbiAgICAgfVxyXG4gICAgIC8qKlxyXG4gICAgICAqIEFJ6JuH6L+Q5YqoXHJcbiAgICAgICovXHJcbiAgICAgcHJpdmF0ZSBfc25ha2VBaUFjdGlvbigpOnZvaWR7XHJcbiAgICAgICAgIGZvcih2YXIgaT0wO2k8R2FtZURhdGEuYWxsU25ha2VMaXN0Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgdmFyIHNuYWtlPUdhbWVEYXRhLmFsbFNuYWtlTGlzdFtpXTtcclxuICAgICAgICAgICAgIGlmKHNuYWtlLkFJKXtcclxuICAgICAgICAgICAgICAgICBHYW1lRGF0YS5hbGxTbmFrZUxpc3RbaV0udXBNb3ZlKDE4MCAtIE1hdGgucmFuZG9tKCkgKiAzNjApO1xyXG4gICAgICAgICAgICAgICAgIEdhbWVEYXRhLmFsbFNuYWtlTGlzdFtpXS5zcGVlZE5vdz1NYXRoLnJhbmRvbSgpPDAuOT9cInNsb3dcIjpcImZhc3RcIjtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgfVxyXG4gICAgIH1cclxuICAgICAvKipcclxuICAgICAgKiDom4fkuYvpl7TnmoTnorDmkp7mo4DmtYtcclxuICAgICAgKi9cclxuICAgICBwcml2YXRlIF9zbmFrZUNvbGxpc2lvbigpOnZvaWR7XHJcbiAgICAgICAgIHZhciBoZWFkLGJvZHlzLGJvZHk7XHJcbiAgICAgICAgIGZvcih2YXIgaT0wO2k8R2FtZURhdGEuYWxsU25ha2VMaXN0Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgaGVhZD1HYW1lRGF0YS5hbGxTbmFrZUxpc3RbaV07XHJcbiAgICAgICAgICAgICBmb3IodmFyIGo9MDtqPEdhbWVEYXRhLmFsbFNuYWtlTGlzdC5sZW5ndGg7aisrKXtcclxuICAgICAgICAgICAgICAgICBib2R5cz1HYW1lRGF0YS5hbGxTbmFrZUxpc3Rbal07XHJcbiAgICAgICAgICAgICAgICAgaWYoaGVhZCE9Ym9keXMmJiFoZWFkLkludmluY2libGVTZWNvbmQmJiFib2R5cy5JbnZpbmNpYmxlU2Vjb25kKXsvL+S4jeaYr+WQjOS4gOadoeibh++8jOS4lOS4jeiDveacieibh+aYr+aXoOaVjOeahOOAguOAglxyXG4gICAgICAgICAgICAgICAgICAgICAvL+WmguaenOaYr+eisOWktOS6huOAguOAguWwseS4gOi1t+a2iOWkseOAguOAglxyXG4gICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGs9MTtrPGJvZHlzLmJvZHlMaXN0Lmxlbmd0aDtrKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYm9keT1ib2R5cy5ib2R5TGlzdFtrXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGlmKFRvb2xVdGlscy5nZXREaXN0YW5jZShoZWFkLngsaGVhZC55LGJvZHkueCxib2R5LnkpPD00MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc25ha2VLaWxsQ2hhbmdlQmVhbihoZWFkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighaGVhZC5BSSl7QmF0dGxlVmlldy5pbnN0YW5jZS5zaG93VUkoVUlOYW1lLk9WRVJVSSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0aGlzLl9zbmFrZUFpT2JqTGlzdC5yZW1vdmUoaGVhZC5pZCk7XHJcbiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lRGF0YS5hbGxTbmFrZUxpc3Quc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcbiAgICAgICAgIFxyXG4gICAgIH1cclxuICAgICAvKipcclxuICAgICAgKiDom4fmrbvlkI7nlZnkuIvnmoTpgZPlhbdcclxuICAgICAgKi9cclxuICAgICBwcml2YXRlIF9zbmFrZUtpbGxDaGFuZ2VCZWFuKHNuOlNuYWtlKTp2b2lke1xyXG4gICAgICAgICBmb3IodmFyIGk9MDtpPHNuLmJvZHlMaXN0Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgdmFyIGJvZHk9c24uYm9keUxpc3RbaV07XHJcbiAgICAgICAgICAgICB0aGlzLl9yYW5kb21DcmVhdGVCZWFuKGJvZHkueCxib2R5Lnksc24uc25ha2VDb2xOdW0sMjAsNSk7XHJcbiAgICAgICAgIH1cclxuICAgICB9XHJcbiAgICBcclxuICAgICBvblVwZGF0ZSgpOnZvaWR7XHJcbiAgICAgICAgIEJhdHRsZVZpZXcuaW5zdGFuY2UuVXBkYXRlKCk7XHJcbiAgICAgICAgIGZvcih2YXIgaT0wO2k8R2FtZURhdGEuYWxsU25ha2VMaXN0Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgdmFyIHNuYWtlPUdhbWVEYXRhLmFsbFNuYWtlTGlzdFtpXTtcclxuICAgICAgICAgICAgIGlmKHNuYWtlLkFJKXtcclxuICAgICAgICAgICAgICAgICBzbmFrZS51cGRhdGUoKTtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgfVxyXG4gICAgICAgICB0aGlzLl9jaGVja0JlYW4oKTtcclxuICAgICAgICAgdGhpcy5fY2hlY2tBaVNhbmtlKCk7XHJcbiAgICAgICAgIHRoaXMuX3NuYWtlQ29sbGlzaW9uKCk7XHJcbiAgICAgfVxyXG59IiwiLyoqXHJcbiAqIOmBk+WFt+inhuWbvlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmVhblZpZXcgZXh0ZW5kcyBMYXlhLlNwcml0ZSBpbXBsZW1lbnRzIElWaWV3e1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfc2NvcmU6bnVtYmVyPTE7XHJcbiAgICBwdWJsaWMgZ2V0IHNjb3JlKCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zY29yZTtcclxuICAgIH1cclxuICAgIGJ1aWxkKHgseSxzcmMsdyxzY29yZSk6dm9pZHtcclxuICAgICAgICB0aGlzLmxvYWRJbWFnZShzcmMpO1xyXG4gICAgICAgIHRoaXMud2lkdGg9dztcclxuICAgICAgICB0aGlzLmhlaWdodD13O1xyXG4gICAgICAgIHRoaXMucG9zKHgseSk7XHJcbiAgICAgICAgdGhpcy5waXZvdCh3LzIsdy8yKTtcclxuICAgICAgICB0aGlzLl9zY29yZT1zY29yZTtcclxuICAgIH1cclxuICAgIGFkZEV2ZW50KCk6dm9pZHtcclxuXHJcbiAgICB9XHJcbiAgICByZW1vdmVFdmVudCgpOnZvaWR7XHJcblxyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJiZWFuXCIsdGhpcyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQmVhblZpZXcgZnJvbSBcIi4uL0JlYW5WaWV3XCI7XHJcbi8qKlxyXG4gKiDpo5/niankuqflk4HnrqHnkIblmajjgILjgIJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJlYW5DdHJvbHtcclxuICAgIHN0YXRpYyBpbnN0YW5jZTpCZWFuQ3Ryb2w7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIEJlYW5DdHJvbC5pbnN0YW5jZT10aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7rkuIDkuKrmjIflrprkvY3nva7nmoTpgZPlhbfjgIJcclxuICAgICAqL1xyXG4gICAgY3JlYXRlQmVhbih4LHksdyxjb2w6bnVtYmVyPU1hdGgucm91bmQoTWF0aC5yYW5kb20oKSo3KzEpLHNjb3JlOm51bWJlcj0xKTpCZWFuVmlld3tcclxuICAgICAgIHZhciBzcmM9XCJpbWFnZXMvYmVhblwiK2NvbCtcIi5wbmdcIjtcclxuICAgICAgIHZhciBiZWFuPW5ldyBCZWFuVmlldygpO1xyXG4gICAgICAgICAgIGJlYW4uYnVpbGQoeCx5LHNyYyx3LHNjb3JlKVxyXG4gICAgICAgcmV0dXJuIGJlYW47XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IFRvb2xVdGlscyBmcm9tIFwiLi4vLi4vLi4vY29uZmlnL1Rvb2xVdGlsc1wiO1xyXG5pbXBvcnQgQmF0dGxlVmlldyBmcm9tIFwiLi4vYmF0dGxlL0JhdHRsZVZpZXdcIjtcclxuaW1wb3J0IEdhbWVEYXRhIGZyb20gXCIuLi8uLi9kYXRhL0dhbWVEYXRhXCI7XHJcbi8qKlxyXG4gKiDom4fnsbtcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYWtlIGV4dGVuZHMgTGF5YS5TcHJpdGV7XHJcbiAgICBpZDpzdHJpbmc7XHJcbiAgICBBSTpib29sZWFuPWZhbHNlOyAvL+aYr+WQpuS4umFpO1xyXG5cclxuICAgIGJvZHlMaXN0OkFycmF5PExheWEuU3ByaXRlPj1bXTsvL+ibh+i6q+aVsOe7hFxyXG4gICAgYm9keUxpc3RQb3M6QXJyYXk8TGF5YS5Qb2ludD49W107Ly/om4fouqvmr4/kuIDoioLmlLnmiJDkuIDkuKrngrnjgILjgIJcclxuICAgIHNuYWtlRWF0QmVhbk51bTpudW1iZXI9MjA7Ly/om4fouqvplb/luqZcclxuICAgIG9uZUJvZHlCZWFuTnVtOm51bWJlcj01Oy8v5ZCD5Yeg6aKX6LGG5aKe5Yqg5LiA6IqC6Lqr5L2TXHJcbiAgICBzbmFrZUNvbE51bTpudW1iZXI7Ly/om4fpopzoibLjgILjgIJcclxuXHJcbiAgICBzcGVlZE9iaj17XCJzbG93XCI6NCxcImZhc3RcIjo2LFwicm90YXRpb25cIjowfS8v6JuH56e75Yqo6YCf5bqmXHJcbiAgICBzcGVlZE5vdzpzdHJpbmc9XCJzbG93XCI7XHJcbiAgICBcclxuICAgIGtpbGw6Ym9vbGVhbj1mYWxzZTsvL+aYr+WQpuaMguS6hlxyXG4gICAgSW52aW5jaWJsZVNlY29uZDpib29sZWFuPXRydWU7Ly/ml6DmlYwz56eSXHJcblxyXG4gICAgcGF0aExpc3Q6QXJyYXk8T2JqZWN0Pj1bXTsvL+ibh+WktOenu+WKqOi9qOi/ueaVsOe7hO+8iOS7peacgOWwj+WNleS9jTHlu7rnq4vmlbDnu4TvvIks6Zif5YiXXHJcbiAgICBuYW1lVGV4dDpMYXlhLlRleHQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoeCx5LGlkLGNvbDpudW1iZXI9TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjQrMSkpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pZD1pZDtcclxuICAgICAgICB0aGlzLnNuYWtlQ29sTnVtPWNvbDtcclxuICAgICAgICB0aGlzLnpPcmRlcj0xO1xyXG4gICAgICAgIHRoaXMud2lkdGg9NDA7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQ9NDA7XHJcbiAgICAgICAgdGhpcy5waXZvdCgyMCwyMCk7XHJcbiAgICAgICAgdGhpcy5wb3MoeCx5KTtcclxuXHJcbiAgICAgICAgdGhpcy5uYW1lVGV4dD1uZXcgTGF5YS5UZXh0KCk7XHJcbiAgICAgICAgdGhpcy5uYW1lVGV4dC50ZXh0PXRoaXMuaWQ7XHJcbiAgICAgICAgdGhpcy5uYW1lVGV4dC5wb3MoMjAsMjApO1xyXG4gICAgICAgIHRoaXMubmFtZVRleHQucGl2b3QoMjAsNDApO1xyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5uYW1lVGV4dCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIExheWEudGltZXIub25jZSgzMDAwLHRoaXMsdGhpcy5fY2hhbmdlSW52aW4pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfY2hhbmdlSW52aW4oKTp2b2lkey8v5Y+W5raI5peg5pWM54q25oCBXHJcbiAgICAgICAgdGhpcy5JbnZpbmNpYmxlU2Vjb25kPWZhbHNlO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5sb2FkSW1hZ2UoXCJpbWFnZXMvaGVhZFwiK3RoaXMuc25ha2VDb2xOdW0rXCIucG5nXCIpO1xyXG4gICAgICAgIC8v5Yid5aeL5YyW6JuH6LqrXHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTxNYXRoLmZsb29yKHRoaXMuc25ha2VFYXRCZWFuTnVtL3RoaXMub25lQm9keUJlYW5OdW0pO2krKyl7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZEJvZHkodGhpcy54LWkqMjAsdGhpcy55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fSW52aW5jaWJsZUVhY2hBbmkoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5re75Yqg5LiA6IqC6Lqr5L2TXHJcbiAgICAgKiBAcGFyYW0geCBcclxuICAgICAqIEBwYXJhbSB5IFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9hZGRCb2R5KHgseSk6dm9pZHtcclxuICAgICAgICB2YXIgc3A9bmV3IExheWEuU3ByaXRlKCk7XHJcbiAgICAgICAgICAgIHNwLmxvYWRJbWFnZShcImltYWdlcy9ib2R5XCIrdGhpcy5zbmFrZUNvbE51bStcIi5wbmdcIik7XHJcbiAgICAgICAgICAgIHNwLnBpdm90KDIwLDIwKTtcclxuICAgICAgICAgICAgc3AucG9zKHgseSk7XHJcbiAgICAgICAgdGhpcy5ib2R5TGlzdC51bnNoaWZ0KHNwKTtcclxuICAgICAgICBCYXR0bGVWaWV3Lmluc3RhbmNlLmdhbWVCb3guYWRkQ2hpbGQoc3ApO1xyXG4gICAgfVxyXG4gICAgLy/om4fouqvnp7vliqhcclxuICAgIHByaXZhdGUgX2JvZHlNb3ZlKCk6dm9pZHtcclxuICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5ib2R5TGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgb2JqPXRoaXMucGF0aExpc3RbMjAqaV1cclxuICAgICAgICAgICAgaWYob2JqKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9keUxpc3RbaV0ucG9zKG9iai54LG9iai55KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhdGhMaXN0LnNwbGljZSh0aGlzLmJvZHlMaXN0Lmxlbmd0aCoyMCk7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tTbmFrZUJvZHkoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2JvZHlNb3ZlMSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5ib2R5TGlzdFswXS54PXRoaXMueDtcclxuICAgICAgICB0aGlzLmJvZHlMaXN0WzBdLnk9dGhpcy55O1xyXG4gICAgICAgZm9yKHZhciBpPXRoaXMuYm9keUxpc3QubGVuZ3RoLTE7aT4wO2ktLSl7XHJcbiAgICAgICAgICAgdGhpcy5ib2R5TGlzdFtpXS54PXRoaXMuYm9keUxpc3RbaS0xXS54O1xyXG4gICAgICAgICAgIHRoaXMuYm9keUxpc3RbaV0ueT10aGlzLmJvZHlMaXN0W2ktMV0ueTtcclxuICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jaGVja1NuYWtlQm9keTEoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2NoZWNrU25ha2VCb2R5MSgpOnZvaWR7XHJcbiAgICAgICAgdmFyIGxlbj1NYXRoLmZsb29yKHRoaXMuc25ha2VFYXRCZWFuTnVtL3RoaXMub25lQm9keUJlYW5OdW0pLXRoaXMuYm9keUxpc3QubGVuZ3RoO1xyXG4gICAgICAgIGlmKGxlbil7XHJcbiAgICAgICAgICAgIHZhciBvYmo9dGhpcy5ib2R5TGlzdC5zbGljZSgtMSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZEJvZHkob2JqW1wieFwiXSxvYmpbXCJ5XCJdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+ajgOafpeibh+i6q1xyXG4gICAgcHJpdmF0ZSBfY2hlY2tTbmFrZUJvZHkoKTp2b2lke1xyXG4gICAgICAgIHZhciBsZW49TWF0aC5mbG9vcih0aGlzLnNuYWtlRWF0QmVhbk51bS90aGlzLm9uZUJvZHlCZWFuTnVtKS10aGlzLmJvZHlMaXN0Lmxlbmd0aDtcclxuICAgICAgICBpZihsZW4pe1xyXG4gICAgICAgICAgICB2YXIgb2JqPXRoaXMucGF0aExpc3QucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZEJvZHkob2JqW1wieFwiXSxvYmpbXCJ5XCJdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+WIpOaWreacieaXoOWQg+WIsOS4nOilv+OAguOAguOAglxyXG4gICAgcHJpdmF0ZSBfY2hlY2tFYXRQcm9wKCk6dm9pZHtcclxuICAgICAgICBmb3IobGV0IGk9MDtpPEdhbWVEYXRhLmJlYW5MaXN0Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBpZigoVG9vbFV0aWxzLmdldERpc3RhbmNlKHRoaXMueCx0aGlzLnksR2FtZURhdGEuYmVhbkxpc3RbaV0ueCxHYW1lRGF0YS5iZWFuTGlzdFtpXS55KS1HYW1lRGF0YS5iZWFuTGlzdFtpXS53aWR0aC8yKTwzMCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmVhbj1HYW1lRGF0YS5iZWFuTGlzdC5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc25ha2VFYXRCZWFuTnVtKz1iZWFuWzBdLnNjb3JlO1xyXG4gICAgICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byhiZWFuWzBdLHtcclxuICAgICAgICAgICAgICAgICAgICB4OnRoaXMueCxcclxuICAgICAgICAgICAgICAgICAgICB5OnRoaXMueVxyXG4gICAgICAgICAgICAgICAgfSwzMCxudWxsLExheWEuSGFuZGxlci5jcmVhdGUobnVsbCxmdW5jdGlvbihvYmope1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB9LGJlYW4pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIOmBjeWOhuaXoOaVjOWKqOeUu1xyXG4gICAgcHJpdmF0ZSBfSW52aW5jaWJsZUVhY2hBbmkoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuX2xvb3BTcEFuaSh0aGlzKTtcclxuICAgICAgICBmb3IodmFyIGk9MTtpPHRoaXMuYm9keUxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvb3BTcEFuaSh0aGlzLmJvZHlMaXN0W2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKirml6DmlYznmoTliqjnlLvlvqrnjq8gKi9cclxuICAgIHByaXZhdGUgX2xvb3BTcEFuaShzcCk6dm9pZHtcclxuICAgICAgICB2YXIgYWxwaGE9TWF0aC5hYnMoc3AuYWxwaGEtMSk7XHJcbiAgICAgICAgaWYoIXRoaXMuSW52aW5jaWJsZVNlY29uZCl7Ly/nu5PmnZ/nmoTmnaHku7ZcclxuICAgICAgICAgICAgc3AuYWxwaGE9MTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBMYXlhLlR3ZWVuLnRvKHNwLHtcclxuICAgICAgICAgICAgYWxwaGE6YWxwaGEsXHJcbiAgICAgICAgfSwxMDAsbnVsbCxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsdGhpcy5fbG9vcFNwQW5pLFtzcF0pKTtcclxuICAgIH1cclxuICAgIC8v5pS55Y+Y5pa55ZCRXHJcbiAgICB1cE1vdmUoYW5nbGUpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbj1hbmdsZVxyXG4gICAgICAgIHRoaXMuc3BlZWRPYmpbXCJyb3RhdGlvblwiXT1MYXlhLlV0aWxzLnRvUmFkaWFuKGFuZ2xlKTtcclxuICAgICAgICB0aGlzLm5hbWVUZXh0LnJvdGF0aW9uPS1hbmdsZTtcclxuICAgIH1cclxuICAgIC8v6ZSA5q+B6Ieq6LqrXHJcbiAgICBkZXN0cm95KCk6dm9pZHtcclxuICAgICAgICB0aGlzLmtpbGw9dHJ1ZTtcclxuICAgICAgICBmb3IodmFyIGk9MDtpPHRoaXMuYm9keUxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIC8vIEdhbWVVSS5pbnN0YW5jZS5nYW1lQm94LnJlbW92ZUNoaWxkKHRoaXMuYm9keUxpc3RbaV0pO1xyXG4gICAgICAgICAgICB0aGlzLmJvZHlMaXN0W2ldLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKCk6dm9pZHtcclxuICAgICAgICBpZih0aGlzLmtpbGwpcmV0dXJuO1xyXG4gICAgICAgIHZhciBzcGVlZD10aGlzLnNwZWVkT2JqW3RoaXMuc3BlZWROb3ddLFxyXG4gICAgICAgICAgICBvbGQ9e3g6dGhpcy54LHk6dGhpcy55fTtcclxuXHJcbiAgICAgICAgdGhpcy54Kz1zcGVlZCpNYXRoLmNvcyh0aGlzLnNwZWVkT2JqW1wicm90YXRpb25cIl0pO1xyXG4gICAgICAgIHRoaXMueSs9c3BlZWQqTWF0aC5zaW4odGhpcy5zcGVlZE9ialtcInJvdGF0aW9uXCJdKTtcclxuICAgICAgICBpZih0aGlzLng8MjApdGhpcy54PTIwO1xyXG4gICAgICAgIGlmKHRoaXMueD4yOTgwKXRoaXMueD0yOTgwO1xyXG4gICAgICAgIGlmKHRoaXMueTwyMCl0aGlzLnk9MjA7XHJcbiAgICAgICAgaWYodGhpcy55PjE0ODApdGhpcy55PTE0ODA7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8c3BlZWQ7aSsrKXsvL+iusOW9leavj+asoei1sOi/h+eahOWdkOagh+OAguOAgjHkuLrljZXkvY1cclxuICAgICAgICAgICAgdmFyIHg9KHRoaXMueC1vbGQueCkqaS9zcGVlZCtvbGQueCxcclxuICAgICAgICAgICAgICAgIHk9KHRoaXMueS1vbGQueSkqaS9zcGVlZCtvbGQueTtcclxuICAgICAgICAgICAgdGhpcy5wYXRoTGlzdC51bnNoaWZ0KHt4OngseTp5fSlcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fYm9keU1vdmUxKCk7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tFYXRQcm9wKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi4vLi4vR2FtZUNvbmZpZ1wiO1xyXG5cclxuXHJcbi8qXHJcbiAqIEBEZXNjcmlwdGlvbjogMmTnm7jmnLrot5/pmo9cclxuICogQEF1dGhvcjogandlaSBcclxuICogQERhdGU6IDIwMTgtMTEtMjIgMTI6MDM6MTlcclxuICogQExhc3RFZGl0VGltZTogMjAxOC0xMS0yMyAxMDo1ODo0MVxyXG4gKiBATGFzdEVkaXRvcnM6IFBsZWFzZSBzZXQgTGFzdEVkaXRvcnNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYTJEe1xyXG4gICAgLy/ljZXkvotcclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogQ2FtZXJhMkQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBDYW1lcmEyRCB7XHJcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSB0aGlzLl9pbnN0YW5jZSB8fCBuZXcgQ2FtZXJhMkQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlXHJcbiAgICB9XHJcbiAgICAvLyDop4bnqpdcclxuICAgIHByaXZhdGUgX2NhbWVyYVZpZXc6TGF5YS5SZWN0YW5nbGU7XHJcbiAgICBwdWJsaWMgZ2V0IGNhbWVyYVZpZXcoKTpMYXlhLlJlY3RhbmdsZXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FtZXJhVmlldztcclxuICAgIH1cclxuICAgIHByaXZhdGUgX3NjZW5lOkxheWEuU3ByaXRlO1xyXG4gICAgcHJpdmF0ZSBfZm9jdXNUYXJnZXQ6TGF5YS5TcHJpdGU7XHJcbiAgICBwcml2YXRlIF9tYXBXPTMwMDA7XHJcbiAgICBwcml2YXRlIF9tYXBIPTE1MDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgIH1cclxuICAgIHN0YXJ0KHNjZW5lOkxheWEuU3ByaXRlKTp2b2lke1xyXG4gICAgICAgdGhpcy5fc2NlbmU9c2NlbmU7XHJcbiAgICAgICB0aGlzLl9jYW1lcmFWaWV3PW5ldyBMYXlhLlJlY3RhbmdsZSgwLDAsR2FtZUNvbmZpZy53aWR0aCxHYW1lQ29uZmlnLmhlaWdodCk7XHJcbiAgICAgICB0aGlzLl9zY2VuZS5zY3JvbGxSZWN0PXRoaXMuX2NhbWVyYVZpZXc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbXNnOiDnu5HlrprkuLvop4bop5JcclxuICAgICAqIEBwYXJhbSB7dHlwZX0gXHJcbiAgICAgKiBAcmV0dXJuOiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGZvY3VzKHRhcmdldDpMYXlhLlNwcml0ZSk6dm9pZHtcclxuICAgICAgICB0aGlzLl9mb2N1c1RhcmdldD10YXJnZXQ7XHJcbiAgICAgICAgdGhpcy5fY2FtZXJhVmlldy54PXRoaXMuX2ZvY3VzVGFyZ2V0LngtKEdhbWVDb25maWcud2lkdGg+PjEpO1xyXG4gICAgICAgIHRoaXMuX2NhbWVyYVZpZXcueT10aGlzLl9mb2N1c1RhcmdldC55LShHYW1lQ29uZmlnLmhlaWdodD4+MSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQG1zZzrlrp7ml7bmm7TmlrAgXHJcbiAgICAgKiBAcGFyYW0ge3R5cGV9IFxyXG4gICAgICogQHJldHVybjogXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB1cGRhdGUoKTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuX2ZvY3VzVGFyZ2V0KXtcclxuICAgICAgICAgICAgaWYodGhpcy5fZm9jdXNUYXJnZXQueD4wICYmICh0aGlzLl9mb2N1c1RhcmdldC54LUdhbWVDb25maWcud2lkdGgvMikgPCB0aGlzLl9tYXBXKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbWVyYVZpZXcueD10aGlzLl9mb2N1c1RhcmdldC54LShHYW1lQ29uZmlnLndpZHRoPj4xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLl9mb2N1c1RhcmdldC55PihHYW1lQ29uZmlnLmhlaWdodD4+MSkgfHwgKHRoaXMuX2ZvY3VzVGFyZ2V0LnkrR2FtZUNvbmZpZy5oZWlnaHQvMikgPCB0aGlzLl9tYXBIKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbWVyYVZpZXcueT10aGlzLl9mb2N1c1RhcmdldC55LShHYW1lQ29uZmlnLmhlaWdodD4+MSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IFRvb2xDTUQgZnJvbSBcIi4uLy4uL2NvbmZpZy9Ub29sQ01EXCI7XHJcblxyXG4vKlxyXG4gKiBARGVzY3JpcHRpb246IOaTjeS9nOadhlxyXG4gKiBAQXV0aG9yOmp3ZWlcclxuICogQERhdGU6IDIwMTgtMTEtMjIgMTI6MDQ6MjJcclxuICogQExhc3RFZGl0VGltZTogMjAxOC0xMS0yMyAxMDo0NDowNVxyXG4gKiBATGFzdEVkaXRvcnM6IFBsZWFzZSBzZXQgTGFzdEVkaXRvcnNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvY2tlcntcclxuICAgIC8v5Y2V5L6LXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IFJvY2tlcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCk6IFJvY2tlciB7XHJcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSB0aGlzLl9pbnN0YW5jZSB8fCBuZXcgUm9ja2VyO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvL+iusOW9leS4reW/g+eCueOAguOAglxyXG4gICAgcHJpdmF0ZSBfY2VudGVyUG9zaXRpb246TGF5YS5Qb2ludDtcclxuICAgIC8v5aSn5ZyGXHJcbiAgICBwcml2YXRlIF9iaWdTcDpMYXlhLlNwcml0ZTtcclxuICAgIC8v5bCP5ZyGXHJcbiAgICBwcml2YXRlIF9taW5TcDpMYXlhLlNwcml0ZTtcclxuICAgIC8v5aSa54K56Kem5o6n77yM6K6w5b2V5b2T5YmN6Kem5o6naWRcclxuICAgIHByaXZhdGUgX3RvdWNoSWQ6bnVtYmVyPS0xO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgfSAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBAbXNnOiDliJ3lp4vljJblj4LmlbBcclxuICAgICAqIEBwYXJhbSB7dHlwZX0gXHJcbiAgICAgKiBAcmV0dXJuOiBcclxuICAgICAqL1xyXG4gICAgaW5pdChzcDpMYXlhLlNwcml0ZSxzcEJveDpMYXlhLlNwcml0ZSk6TGF5YS5TcHJpdGV7XHJcbiAgICAgICAgdGhpcy5fY2VudGVyUG9zaXRpb249bmV3IExheWEuUG9pbnQoKTtcclxuICAgICAgICB0aGlzLl9jZW50ZXJQb3NpdGlvbi54PXNwLng7XHJcbiAgICAgICAgdGhpcy5fY2VudGVyUG9zaXRpb24ueT1zcC55O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2JpZ1NwPXNwQm94O1xyXG4gICAgICAgIHRoaXMuX21pblNwPXNwO1xyXG5cclxuICAgICAgICBzcC5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sdGhpcyx0aGlzLl9vblRvdWNoRG93bik7XHJcbiAgICAgICAgcmV0dXJuIHNwQm94O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAbXNn77ya5Yia5oyJ5LiL5omn6KGM55qE5pa55rOVXHJcbiAgICAgKiBAcGFyYW0ge3R5cGV9IFxyXG4gICAgICogQHJldHVybjogXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX29uVG91Y2hEb3duKGVudDpMYXlhLkV2ZW50KTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuX3RvdWNoSWQ9PS0xKXtcclxuICAgICAgICAgICAgdGhpcy5fdG91Y2hJZD1lbnQudG91Y2hJZDtcclxuICAgICAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX01PVkUsdGhpcyx0aGlzLl9vblRvdWNoTW92ZSk7XHJcbiAgICAgICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9VUCx0aGlzLHRoaXMuX29uVG91Y2hVcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAbXNnOuenu+WKqOaJp+ihjOeahOaWueazlSBcclxuICAgICAqIEBwYXJhbSB7dHlwZX0gXHJcbiAgICAgKiBAcmV0dXJuOiBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfb25Ub3VjaE1vdmUoZW50OkxheWEuRXZlbnQpOnZvaWR7XHJcbiAgICAgICAgaWYodGhpcy5fdG91Y2hJZCE9LTEgJiYgZW50LnRvdWNoSWQgPT0gdGhpcy5fdG91Y2hJZCl7XHJcbiAgICAgICAgICAgIHZhciBSMj10aGlzLl9iaWdTcC53aWR0aC8yLXRoaXMuX21pblNwLndpZHRoLzI7XHJcbiAgICAgICAgICAgIHZhciBSPU1hdGguc3FydChNYXRoLnBvdyhlbnQuc3RhZ2VYLXRoaXMuX2NlbnRlclBvc2l0aW9uLngsMikrTWF0aC5wb3coZW50LnN0YWdlWS10aGlzLl9jZW50ZXJQb3NpdGlvbi55LDIpKTtcclxuICAgICAgICAgICAgLy/mmK/lkKblpKfkuo7kuKTlnIbljYrlvoTkuYvlkoxcclxuICAgICAgICAgICAgaWYoUj5SMilSPVIyO1xyXG4gICAgICAgICAgICB2YXIgY3M9TWF0aC5hdGFuMihlbnQuc3RhZ2VZLXRoaXMuX2NlbnRlclBvc2l0aW9uLnksZW50LnN0YWdlWC10aGlzLl9jZW50ZXJQb3NpdGlvbi54KVxyXG4gICAgICAgICAgICB2YXIgY3g9UipNYXRoLmNvcyhjcykrdGhpcy5fY2VudGVyUG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICAgIGN5PVIqTWF0aC5zaW4oY3MpK3RoaXMuX2NlbnRlclBvc2l0aW9uLnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5TcC5wb3MoY3gsY3kpO1xyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLmV2ZW50KFRvb2xDTUQuUk9DS0VSX01PVkUsY3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQG1zZzog5omL5oqs6LW3LOS4reW/g+eahOWchuimgeW8ueWbnuWOu1xyXG4gICAgICogQHBhcmFtIHt0eXBlfSBcclxuICAgICAqIEByZXR1cm46IFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9vblRvdWNoVXAoZW50OkxheWEuRXZlbnQpOnZvaWR7XHJcbiAgICAgICAgLy/liKTmlq3mmK/lkKbmnInmjInkuIvlkozlvZPliY3miqzotbfnmoTmmK/lkKbkuLrljp/mnaXpgqPkuKrngrnjgIJcclxuICAgICAgICBpZih0aGlzLl90b3VjaElkIT0tMSAmJiBlbnQudG91Y2hJZCA9PSB0aGlzLl90b3VjaElkKXtcclxuICAgICAgICAgICAgdGhpcy5fdG91Y2hJZD0tMTtcclxuICAgICAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9NT1ZFLHRoaXMsdGhpcy5fb25Ub3VjaE1vdmUpXHJcbiAgICAgICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfVVAsdGhpcyx0aGlzLl9vblRvdWNoVXApO1xyXG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuX21pblNwLHtcclxuICAgICAgICAgICAgICAgIHg6dGhpcy5fY2VudGVyUG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICAgIHk6dGhpcy5fY2VudGVyUG9zaXRpb24ueSxcclxuICAgICAgICAgICAgfSwxMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG5leHBvcnQgbW9kdWxlIHVpIHtcclxuICAgIGV4cG9ydCBjbGFzcyBnYW1lTWFpblVJIGV4dGVuZHMgU2NlbmUge1xyXG5cdFx0cHVibGljIHdvcmxkTWFwOkxheWEuU3ByaXRlO1xuXHRcdHB1YmxpYyBtYXA6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIGdhbWVCb3g6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIHNjb3JlVGV4dDpsYXlhLmRpc3BsYXkuVGV4dDtcblx0XHRwdWJsaWMgc25ha2VOdW1UZXh0OmxheWEuZGlzcGxheS5UZXh0O1xuXHRcdHB1YmxpYyBiZWFuTnVtVGV4dDpsYXlhLmRpc3BsYXkuVGV4dDtcblx0XHRwdWJsaWMgcm9ja2VyQm94OkxheWEuU3ByaXRlO1xuXHRcdHB1YmxpYyByb2NrZXJNb3ZlOkxheWEuU3ByaXRlO1xuXHRcdHB1YmxpYyBzcGVlZEJ0bjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgVUk6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIGdhbWVPdmVyOkxheWEuU3ByaXRlO1xuXHRcdHB1YmxpYyBhZ2FpbjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgYmVnaW5VSTpMYXlhLlNwcml0ZTtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcImdhbWVNYWluXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyIl19
