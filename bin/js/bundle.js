var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
var GameConstroll_1 = require("./script/GameConstroll");
var BeanScript_1 = require("./script/BeanScript");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
        reg("script/GameConstroll.ts", GameConstroll_1.default);
        reg("script/BeanScript.ts", BeanScript_1.default);
    };
    GameConfig.width = 1136;
    GameConfig.height = 640;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "horizontal";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "gameMain.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = true;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/BeanScript":7,"./script/GameConstroll":9,"./script/GameUI":11}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 对象字典
 */
var ObjDictionary = /** @class */ (function () {
    function ObjDictionary() {
        this._container = new Object();
        this._length = 0;
    }
    Object.defineProperty(ObjDictionary.prototype, "container", {
        get: function () {
            return this._container;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjDictionary.prototype, "length", {
        get: function () {
            return this._length;
        },
        enumerable: true,
        configurable: true
    });
    ObjDictionary.prototype.add = function (key, value) {
        if (!this.containsKey(key)) {
            this._length++;
            this._container[key] = value;
        }
    };
    ObjDictionary.prototype.reset = function (key, value) {
        if (this.containsKey(key)) {
            this._container[key] = value;
        }
        else {
            console.log("已经有了。。");
        }
    };
    ObjDictionary.prototype.remove = function (key) {
        if (this._container.hasOwnProperty(key)) {
            this._container[key] = null;
            this._length--;
        }
    };
    ObjDictionary.prototype.get = function (key) {
        return this._container[key];
    };
    ObjDictionary.prototype.containsKey = function (key) {
        return this._container.hasOwnProperty(key);
    };
    ObjDictionary.prototype.clear = function () {
        this._length = 0;
        this._container = null;
    };
    return ObjDictionary;
}());
exports.default = ObjDictionary;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// 四叉树的实现
var Quadtree = /** @class */ (function () {
    function Quadtree(level, bounds) {
        this.MAX_OBJECTS = 10;
        this.MAX_LEVELS = 5;
        this.nodes = [];
        this.level = level;
        this.bounds = bounds;
        this.objects = [];
        this.nodes = [];
    }
    // clear, split, getIndex, insert和 retrieve
    Quadtree.prototype.clear = function () {
        this.objects = [];
        for (var i = 0; i < this.nodes.length; i++) {
            this.nodes[i].clear();
            this.nodes[i] = null;
        }
    };
    //将当前节点分割成4个节点。。
    Quadtree.prototype.split = function () {
        var w = this.bounds.width / 2, h = this.bounds.height / 2, x = this.bounds.x, y = this.bounds.y;
        this.nodes[0] = new Quadtree(this.level + 1, new Laya.Rectangle(x + w, y, w, h));
        this.nodes[1] = new Quadtree(this.level + 1, new Laya.Rectangle(x, y, w, h));
        this.nodes[2] = new Quadtree(this.level + 1, new Laya.Rectangle(x, y + h, w, h));
        this.nodes[3] = new Quadtree(this.level + 1, new Laya.Rectangle(x + w, y + h, w, h));
    };
    //得到这个节点的索引
    Quadtree.prototype.getIndex = function (pRect) {
        var index = -1;
        // 中线
        var v = this.bounds.x + this.bounds.width / 2, h = this.bounds.y + this.bounds.height / 2;
        var t = pRect.y < h && pRect.y + pRect.height < h, // 完全在上面
        b = pRect.y > h, // 完全在下面
        r = pRect.x > v, //右边
        l = pRect.x + pRect.width < v; //左边
        if (r) {
            if (t)
                index = 0;
            if (b)
                index = 3;
        }
        else if (l) {
            if (t)
                index = 1;
            if (b)
                index = 2;
        }
        return index;
    };
    // 插入
    Quadtree.prototype.insert = function (obj) {
        if (obj == undefined)
            return;
        if (obj instanceof Array) {
            for (var i = 0; i < obj.length; i++) {
                this.insert(obj[i]);
            }
            return;
        }
        if (this.nodes.length) {
            var index = this.getIndex(obj);
            if (index != -1) {
                this.nodes[index].insert(obj);
                return;
            }
        }
        this.objects.push(obj);
        if (this.objects.length > this.MAX_OBJECTS && this.level < this.MAX_LEVELS) {
            if (this.nodes[0] == null) {
                this.split();
            }
            var i = 0;
            while (i < this.objects.length) {
                var ind = this.getIndex(this.objects[i]);
                if (ind != -1) {
                    this.nodes[ind].insert((this.objects.splice(i, 1))[0]);
                }
                else {
                    i++;
                }
            }
        }
    };
    //所有可能和指定物品碰撞的物体
    Quadtree.prototype.retrieve = function (returnedObjects, obj) {
        if (typeof obj === undefined) {
            console.log("underfined object");
            return;
        }
        var index = this.getIndex(obj);
        if (index != -1 && this.nodes.length) {
            this.nodes[index].retrieve(returnedObjects, obj);
        }
        for (var i = 0; i < this.objects.length; i++) {
            returnedObjects.push(this.objects[i]);
        }
        return returnedObjects;
    };
    return Quadtree;
}());
exports.default = Quadtree;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/*
 * @Description:枚举
 * @Author: jwei
 * @Date: 2018-11-22 16:25:13
 * @LastEditTime: 2018-11-22 16:27:06
 * @LastEditors: jwei
 */
var ToolCMD = /** @class */ (function () {
    function ToolCMD() {
    }
    ToolCMD.ROCKER_MOVE = "rocker_move";
    return ToolCMD;
}());
exports.default = ToolCMD;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 工具函数
 */
var ToolUtils = /** @class */ (function () {
    function ToolUtils() {
    }
    /**
     * 得到两点的距离。。
     * @param x1
     * @param y1
     * @param x2
     * @param y2
     */
    ToolUtils.getDistance = function (x1, y1, x2, y2) {
        return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));
    };
    return ToolUtils;
}());
exports.default = ToolUtils;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 食物的脚本
 */
var BeanScript = /** @class */ (function (_super) {
    __extends(BeanScript, _super);
    function BeanScript() {
        return _super.call(this) || this;
    }
    BeanScript.prototype.onEnable = function () {
        //    var sp:Laya.Sprite=this.owner as Laya.Sprite;
    };
    BeanScript.prototype.onTriggerEnter = function () {
        //碰到就消失
        this.owner.removeSelf();
    };
    BeanScript.prototype.onDestroy = function () {
        Laya.Pool.recover("bean", this.owner);
    };
    return BeanScript;
}(Laya.Script));
exports.default = BeanScript;
},{}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("../GameConfig");
/*
 * @Description: 2d相机跟随
 * @Author: jwei
 * @Date: 2018-11-22 12:03:19
 * @LastEditTime: 2018-11-23 10:58:41
 * @LastEditors: Please set LastEditors
 */
var Camera2D = /** @class */ (function () {
    function Camera2D() {
        this._mapW = 3000;
        this._mapH = 1500;
    }
    Object.defineProperty(Camera2D, "instance", {
        get: function () {
            this._instance = this._instance || new Camera2D;
            return this._instance;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Camera2D.prototype, "cameraView", {
        get: function () {
            return this._cameraView;
        },
        enumerable: true,
        configurable: true
    });
    Camera2D.prototype.start = function (scene) {
        this._scene = scene;
        this._cameraView = new Laya.Rectangle(0, 0, GameConfig_1.default.width, GameConfig_1.default.height);
        this._scene.scrollRect = this._cameraView;
    };
    /**
     * @msg: 绑定主视角
     * @param {type}
     * @return:
     */
    Camera2D.prototype.focus = function (target) {
        this._focusTarget = target;
        this._cameraView.x = this._focusTarget.x - (GameConfig_1.default.width >> 1);
        this._cameraView.y = this._focusTarget.y - (GameConfig_1.default.height >> 1);
    };
    /**
     * @msg:实时更新
     * @param {type}
     * @return:
     */
    Camera2D.prototype.update = function () {
        if (this._focusTarget) {
            if (this._focusTarget.x > 0 && (this._focusTarget.x - GameConfig_1.default.width / 2) < this._mapW) {
                this._cameraView.x = this._focusTarget.x - (GameConfig_1.default.width >> 1);
            }
            if (this._focusTarget.y > (GameConfig_1.default.height >> 1) || (this._focusTarget.y + GameConfig_1.default.height / 2) < this._mapH) {
                this._cameraView.y = this._focusTarget.y - (GameConfig_1.default.height >> 1);
            }
        }
    };
    return Camera2D;
}());
exports.default = Camera2D;
},{"../GameConfig":1}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameUI_1 = require("./GameUI");
var ToolUtils_1 = require("../config/ToolUtils");
var Snake_1 = require("./Snake");
var Quadtree_1 = require("../config/Quadtree");
var GameData_1 = require("./GameData");
var ObjDictionary_1 = require("../config/ObjDictionary");
/**
 * 游戏控制脚本
 */
var GameConstroll = /** @class */ (function (_super) {
    __extends(GameConstroll, _super);
    function GameConstroll() {
        var _this = _super.call(this) || this;
        _this._beanQuadTree = null; //用四叉树保存道具，优化碰撞检测
        _this._snakeAiObjList = new ObjDictionary_1.default();
        return _this;
    }
    GameConstroll.prototype.onEnable = function () {
        this._gameBox = this.owner["gameBox"];
        this._beanQuadTree = new Quadtree_1.default(3, new Laya.Rectangle(0, 0, 3000, 1500));
        this._createBean();
        this._createSnakeAi();
    };
    /**
    *  随机生成一个道具
    */
    GameConstroll.prototype._randomCreateBean = function (x, y, col, w) {
        if (col === void 0) { col = Math.floor(Math.random() * 5 + 1); }
        if (w === void 0) { w = Math.floor(Math.random() * 5 + 5); }
        var bean = Laya.Pool.getItemByCreateFun("bean", this.Bean.create, this.Bean);
        bean.loadImage("images/bean" + col + ".png");
        bean.width = w;
        bean.height = w;
        bean.pos(x, y);
        GameData_1.default.beanList.push(bean);
        this._beanQuadTree.insert(bean);
        this._gameBox.addChild(bean);
    };
    /**
     * 在容器里生成蛇,默认ai蛇
     */
    GameConstroll.prototype._randomCreateSnake = function (x, y, name, ai) {
        if (ai === void 0) { ai = true; }
        var snake = new Snake_1.default(x, y, name);
        snake.AI = ai;
        GameUI_1.default.instance.gameBox.addChild(snake);
        GameData_1.default.allSnakeList.push(snake);
        GameData_1.default.allHistorySnakeNum++;
        if (ai)
            this._snakeAiObjList.add(name, snake);
    };
    /**
     * 生成一堆道具
     */
    GameConstroll.prototype._createBean = function () {
        for (var i = 0; i < 300; i++) {
            this._randomCreateBean(Math.random() * 3000, Math.random() * 1500);
        }
    };
    /**
     * 检测道具数量，补充
     */
    GameConstroll.prototype._checkBean = function () {
        while (GameData_1.default.beanList.length < 300) {
            this._randomCreateBean(Math.random() * 3000, Math.random() * 1500);
        }
    };
    /**
     * 检测AI蛇数量，补充。
     */
    GameConstroll.prototype._checkAiSanke = function () {
        while (this._snakeAiObjList.length < GameData_1.default.maxSnakeNum) {
            this._randomCreateSnake(Math.random() * 2500 + 100, Math.random() * 1000 + 100, "snake" + GameData_1.default.allHistorySnakeNum);
        }
    };
    /**
     * 生成AI蛇
     */
    GameConstroll.prototype._createSnakeAi = function () {
        for (var i = 0; i < GameData_1.default.maxSnakeNum; i++) {
            this._randomCreateSnake(i * 200, i * 200, "snake" + i);
        }
        GameData_1.default.allSnakeList.push(GameUI_1.default.instance.snakeSelf);
        Laya.timer.loop(3000, this, this._snakeAiAction);
    };
    /**
     * AI蛇运动
     */
    GameConstroll.prototype._snakeAiAction = function () {
        for (var i = 0; i < GameData_1.default.allSnakeList.length; i++) {
            var snake = GameData_1.default.allSnakeList[i];
            if (snake.AI) {
                GameData_1.default.allSnakeList[i].upMove(180 - Math.random() * 360);
                GameData_1.default.allSnakeList[i].speedNow = Math.random() < 0.9 ? "slow" : "fast";
            }
        }
    };
    /**
     * 蛇之间的碰撞检测
     */
    GameConstroll.prototype._snakeCollision = function () {
        var head, bodys, body;
        for (var i = 0; i < GameData_1.default.allSnakeList.length; i++) {
            head = GameData_1.default.allSnakeList[i];
            for (var j = 0; j < GameData_1.default.allSnakeList.length; j++) {
                bodys = GameData_1.default.allSnakeList[j];
                if (head != bodys && !head.InvincibleSecond && !bodys.InvincibleSecond) { //不是同一条蛇，且不能有蛇是无敌的。。
                    //如果是碰头了。。就一起消失。。
                    for (var k = 1; k < bodys.bodyList.length; k++) {
                        body = bodys.bodyList[k];
                        if (ToolUtils_1.default.getDistance(head.x, head.y, body.x, body.y) <= 40) {
                            console.log(head.id + "碰到了" + bodys.id);
                            this._snakeKillChangeBean(head);
                            if (!head.AI) {
                                GameUI_1.default.instance.showUI(GameUI_1.UIName.OVERUI);
                            }
                            else
                                this._snakeAiObjList.remove(head.id);
                            head.destroy();
                            GameData_1.default.allSnakeList.splice(i, 1);
                            return;
                        }
                    }
                }
            }
        }
    };
    /**
     * 蛇死后留下的道具
     */
    GameConstroll.prototype._snakeKillChangeBean = function (sn) {
        for (var i = 0; i < sn.bodyList.length; i++) {
            var body = sn.bodyList[i];
            this._randomCreateBean(body.x, body.y, sn.snakeColNum, Math.floor(Math.random() * 15 + 5));
        }
    };
    GameConstroll.prototype.onUpdate = function () {
        GameUI_1.default.instance.Update();
        for (var i = 0; i < GameData_1.default.allSnakeList.length; i++) {
            var snake = GameData_1.default.allSnakeList[i];
            if (snake.AI) {
                snake.update();
            }
        }
        this._checkBean();
        this._checkAiSanke();
        this._snakeCollision();
    };
    return GameConstroll;
}(Laya.Script));
exports.default = GameConstroll;
},{"../config/ObjDictionary":3,"../config/Quadtree":4,"../config/ToolUtils":6,"./GameData":10,"./GameUI":11,"./Snake":13}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏数据
 */
var GameData = /** @class */ (function () {
    function GameData() {
    }
    GameData.beanList = []; //小豆子对象
    GameData.allSnakeList = []; //蛇对象数组
    GameData.maxSnakeNum = 10;
    GameData.allHistorySnakeNum = 0;
    return GameData;
}());
exports.default = GameData;
},{}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Rocker_1 = require("./Rocker");
var Camera2D_1 = require("./Camera2D");
var ToolCMD_1 = require("../config/ToolCMD");
var Snake_1 = require("./Snake");
var GameConfig_1 = require("../GameConfig");
var GameData_1 = require("./GameData");
/**
 * 游戏UI
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        GameUI.instance = _this;
        _this.init();
        _this._addEvent();
        return _this;
    }
    GameUI.prototype.init = function () {
        Rocker_1.default.instance.init(this.rockerMove, this.rockerBox); //操作杆
        this.snakeSelf = new Snake_1.default(GameConfig_1.default.width / 2, GameConfig_1.default.height / 2, "player");
        this.gameBox.addChild(this.snakeSelf);
        this.scoreText.changeText(this.snakeSelf.snakeEatBeanNum + "");
        Camera2D_1.default.instance.start(this.worldMap);
        Camera2D_1.default.instance.focus(this.snakeSelf);
        Laya.stage.on(ToolCMD_1.default.ROCKER_MOVE, this, this._getRockerAngle);
    };
    GameUI.prototype._addEvent = function () {
        //加速
        this.speedBtn.on(Laya.Event.MOUSE_DOWN, this, this._onSpeedBtn);
        this.speedBtn.on(Laya.Event.MOUSE_UP, this, this._onSpeedBtn);
        //重新开始
        this.again.on(Laya.Event.CLICK, this, this.createPlayer);
    };
    /**
     * 重新生成自己蛇
     */
    GameUI.prototype.createPlayer = function () {
        this.snakeSelf = new Snake_1.default(GameConfig_1.default.width / 2, GameConfig_1.default.height / 2, "player");
        this.gameBox.addChild(this.snakeSelf);
        Camera2D_1.default.instance.focus(this.snakeSelf);
        GameData_1.default.allSnakeList.push(GameUI.instance.snakeSelf);
        this.scoreText.changeText(this.snakeSelf.snakeEatBeanNum + "");
        this.showUI(UIName.GAME);
    };
    /**
     * 加速的方法回调
     * @param e
     */
    GameUI.prototype._onSpeedBtn = function (e) {
        if (e.type == "mousedown") {
            this.snakeSelf.speedNow = "fast";
        }
        else {
            this.snakeSelf.speedNow = "slow";
        }
    };
    /**
     * 摇杆的回调函数
     * @param angle 弧度
     */
    GameUI.prototype._getRockerAngle = function (angle) {
        this.snakeSelf.upMove(Laya.Utils.toAngle(angle));
    };
    /**
     * 游戏实时数据
     */
    GameUI.prototype._renderUIData = function () {
        this.snakeNumText.changeText(GameData_1.default.allSnakeList.length + "");
        this.beanNumText.changeText(GameData_1.default.beanList.length + "");
        this.scoreText.changeText(this.snakeSelf.snakeEatBeanNum + "");
    };
    /**
     * 更换UI
     */
    GameUI.prototype.showUI = function (uiname) {
        switch (uiname) {
            case UIName.BEGINUI:
                break;
            case UIName.GAME:
                this.gameOver.visible = false;
                break;
            case UIName.OVERUI:
                this.gameOver.visible = true;
                break;
        }
    };
    GameUI.prototype.Update = function () {
        Camera2D_1.default.instance.update();
        this.snakeSelf.update();
        this._renderUIData();
    };
    return GameUI;
}(layaMaxUI_1.ui.gameMainUI));
exports.default = GameUI;
var UIName;
(function (UIName) {
    UIName[UIName["BEGINUI"] = 0] = "BEGINUI";
    UIName[UIName["GAME"] = 1] = "GAME";
    UIName[UIName["OVERUI"] = 2] = "OVERUI";
})(UIName = exports.UIName || (exports.UIName = {}));
},{"../GameConfig":1,"../config/ToolCMD":5,"../ui/layaMaxUI":14,"./Camera2D":8,"./GameData":10,"./Rocker":12,"./Snake":13}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ToolCMD_1 = require("../config/ToolCMD");
/*
 * @Description: 操作杆
 * @Author:jwei
 * @Date: 2018-11-22 12:04:22
 * @LastEditTime: 2018-11-23 10:44:05
 * @LastEditors: Please set LastEditors
 */
var Rocker = /** @class */ (function () {
    function Rocker() {
        //多点触控，记录当前触控id
        this._touchId = -1;
    }
    Object.defineProperty(Rocker, "instance", {
        get: function () {
            this._instance = this._instance || new Rocker;
            return this._instance;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @msg: 初始化参数
     * @param {type}
     * @return:
     */
    Rocker.prototype.init = function (sp, spBox) {
        this._centerPosition = new Laya.Point();
        this._centerPosition.x = sp.x;
        this._centerPosition.y = sp.y;
        this._bigSp = spBox;
        this._minSp = sp;
        sp.on(Laya.Event.MOUSE_DOWN, this, this._onTouchDown);
        return spBox;
    };
    /**
     * @msg：刚按下执行的方法
     * @param {type}
     * @return:
     */
    Rocker.prototype._onTouchDown = function (ent) {
        if (this._touchId == -1) {
            this._touchId = ent.touchId;
            Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this._onTouchMove);
            Laya.stage.on(Laya.Event.MOUSE_UP, this, this._onTouchUp);
        }
    };
    /**
     * @msg:移动执行的方法
     * @param {type}
     * @return:
     */
    Rocker.prototype._onTouchMove = function (ent) {
        if (this._touchId != -1 && ent.touchId == this._touchId) {
            var R2 = this._bigSp.width / 2 - this._minSp.width / 2;
            var R = Math.sqrt(Math.pow(ent.stageX - this._centerPosition.x, 2) + Math.pow(ent.stageY - this._centerPosition.y, 2));
            //是否大于两圆半径之和
            if (R > R2)
                R = R2;
            var cs = Math.atan2(ent.stageY - this._centerPosition.y, ent.stageX - this._centerPosition.x);
            var cx = R * Math.cos(cs) + this._centerPosition.x, cy = R * Math.sin(cs) + this._centerPosition.y;
            this._minSp.pos(cx, cy);
            Laya.stage.event(ToolCMD_1.default.ROCKER_MOVE, cs);
        }
    };
    /**
     * @msg: 手抬起,中心的圆要弹回去
     * @param {type}
     * @return:
     */
    Rocker.prototype._onTouchUp = function (ent) {
        //判断是否有按下和当前抬起的是否为原来那个点。
        if (this._touchId != -1 && ent.touchId == this._touchId) {
            this._touchId = -1;
            Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this._onTouchMove);
            Laya.stage.off(Laya.Event.MOUSE_UP, this, this._onTouchUp);
            Laya.Tween.to(this._minSp, {
                x: this._centerPosition.x,
                y: this._centerPosition.y,
            }, 100);
        }
    };
    return Rocker;
}());
exports.default = Rocker;
},{"../config/ToolCMD":5}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameUI_1 = require("./GameUI");
var GameData_1 = require("./GameData");
var ToolUtils_1 = require("../config/ToolUtils");
/**
 * 蛇类
 */
var Snake = /** @class */ (function (_super) {
    __extends(Snake, _super);
    function Snake(x, y, id, col) {
        if (col === void 0) { col = Math.round(Math.random() * 4 + 1); }
        var _this = _super.call(this) || this;
        _this.AI = false; //是否为ai;
        _this.bodyList = []; //蛇身数组
        _this.snakeEatBeanNum = 20; //蛇身长度
        _this.oneBodyBeanNum = 5; //吃几颗豆增加一节身体
        _this.speedObj = { "slow": 4, "fast": 6, "rotation": 0 }; //蛇移动速度
        _this.speedNow = "slow";
        _this.kill = false; //是否挂了
        _this.InvincibleSecond = true; //无敌3秒
        _this.pathList = []; //蛇头移动轨迹数组（以最小单位1建立数组）,队列
        _this.id = id;
        _this.snakeColNum = col;
        _this.zOrder = 1;
        _this.width = 40;
        _this.height = 40;
        _this.pivot(20, 20);
        _this.pos(x, y);
        _this.nameText = new Laya.Text();
        _this.nameText.text = _this.id;
        _this.nameText.pos(20, 20);
        _this.nameText.pivot(20, 40);
        _this.addChild(_this.nameText);
        _this.init();
        Laya.timer.once(3000, _this, _this._changeInvin);
        return _this;
    }
    Snake.prototype._changeInvin = function () {
        this.InvincibleSecond = false;
    };
    Snake.prototype.init = function () {
        this.loadImage("images/head" + this.snakeColNum + ".png");
        //初始化蛇身
        for (var i = 0; i < Math.floor(this.snakeEatBeanNum / this.oneBodyBeanNum); i++) {
            this._addBody(this.x, this.y);
        }
    };
    /**
     * 添加一节身体
     * @param x
     * @param y
     */
    Snake.prototype._addBody = function (x, y) {
        var sp = new Laya.Sprite();
        sp.loadImage("images/body" + this.snakeColNum + ".png");
        sp.pivot(20, 20);
        sp.pos(x, y);
        this.bodyList.unshift(sp);
        GameUI_1.default.instance.gameBox.addChild(sp);
    };
    //蛇身移动
    Snake.prototype._bodyMove = function () {
        var obj;
        for (var i = 0; i < this.bodyList.length; i++) {
            obj = this.pathList[20 * i];
            if (obj) {
                this.bodyList[i].pos(obj.x, obj.y);
            }
        }
        this.pathList.splice(this.bodyList.length * 20);
        this._checkSnakeBody();
    };
    //检查蛇身
    Snake.prototype._checkSnakeBody = function () {
        var len = Math.floor(this.snakeEatBeanNum / this.oneBodyBeanNum) - this.bodyList.length;
        if (len) {
            var obj = this.pathList.pop();
            this._addBody(obj["x"], obj["y"]);
        }
    };
    //判断有无吃到东西。。。
    Snake.prototype._checkEatProp = function () {
        for (var i = 0; i < GameData_1.default.beanList.length; i++) {
            if ((ToolUtils_1.default.getDistance(this.x, this.y, GameData_1.default.beanList[i].x, GameData_1.default.beanList[i].y) - GameData_1.default.beanList[i].width / 2) < 30) {
                var bean = GameData_1.default.beanList.splice(i, 1);
                Laya.Tween.to(bean[0], {
                    x: this.x,
                    y: this.y
                }, 30, null, Laya.Handler.create(null, function (obj) {
                    obj.removeSelf();
                }, bean));
                this.snakeEatBeanNum++;
            }
        }
    };
    //改变方向
    Snake.prototype.upMove = function (angle) {
        this.rotation = angle;
        this.speedObj["rotation"] = Laya.Utils.toRadian(angle);
        this.nameText.rotation = -angle;
    };
    //销毁自身
    Snake.prototype.destroy = function () {
        this.kill = true;
        for (var i = 0; i < this.bodyList.length; i++) {
            // GameUI.instance.gameBox.removeChild(this.bodyList[i]);
            this.bodyList[i].removeSelf();
            this.removeSelf();
        }
    };
    Snake.prototype.update = function () {
        if (this.kill)
            return;
        var speed = this.speedObj[this.speedNow], old = { x: this.x, y: this.y };
        this.x += speed * Math.cos(this.speedObj["rotation"]);
        this.y += speed * Math.sin(this.speedObj["rotation"]);
        if (this.x < 20)
            this.x = 20;
        if (this.x > 2980)
            this.x = 2980;
        if (this.y < 20)
            this.y = 20;
        if (this.y > 1480)
            this.y = 1480;
        for (var i = 0; i < speed; i++) { //记录每次走过的坐标。。1为单位
            var x = (this.x - old.x) * i / speed + old.x, y = (this.y - old.y) * i / speed + old.y;
            this.pathList.unshift({ x: x, y: y });
        }
        this._bodyMove();
        this._checkEatProp();
    };
    return Snake;
}(Laya.Sprite));
exports.default = Snake;
},{"../config/ToolUtils":6,"./GameData":10,"./GameUI":11}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var ui;
(function (ui) {
    var gameMainUI = /** @class */ (function (_super) {
        __extends(gameMainUI, _super);
        function gameMainUI() {
            return _super.call(this) || this;
        }
        gameMainUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("gameMain");
        };
        return gameMainUI;
    }(Scene));
    ui.gameMainUI = gameMainUI;
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NvZnR3YXJlL0xheWFBaXJJREUyLjA0L3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvY29uZmlnL09iakRpY3Rpb25hcnkudHMiLCJzcmMvY29uZmlnL1F1YWR0cmVlLnRzIiwic3JjL2NvbmZpZy9Ub29sQ01ELnRzIiwic3JjL2NvbmZpZy9Ub29sVXRpbHMudHMiLCJzcmMvc2NyaXB0L0JlYW5TY3JpcHQudHMiLCJzcmMvc2NyaXB0L0NhbWVyYTJELnRzIiwic3JjL3NjcmlwdC9HYW1lQ29uc3Ryb2xsLnRzIiwic3JjL3NjcmlwdC9HYW1lRGF0YS50cyIsInNyYy9zY3JpcHQvR2FtZVVJLnRzIiwic3JjL3NjcmlwdC9Sb2NrZXIudHMiLCJzcmMvc2NyaXB0L1NuYWtlLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsMENBQW9DO0FBQ3BDLHdEQUFrRDtBQUNsRCxrREFBNEM7QUFDNUM7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxnQkFBTSxDQUFDLENBQUM7UUFDL0IsR0FBRyxDQUFDLHlCQUF5QixFQUFDLHVCQUFhLENBQUMsQ0FBQztRQUM3QyxHQUFHLENBQUMsc0JBQXNCLEVBQUMsb0JBQVUsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFsQk0sZ0JBQUssR0FBUSxJQUFJLENBQUM7SUFDbEIsaUJBQU0sR0FBUSxHQUFHLENBQUM7SUFDbEIsb0JBQVMsR0FBUSxZQUFZLENBQUM7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QyxDQUFDLEVBQ2pCLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUN0QixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFDLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFDLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBQ0QsV0FBVztJQUNYLDJCQUFRLEdBQVIsVUFBUyxLQUFvQjtRQUN6QixJQUFJLEtBQUssR0FBQyxDQUFDLENBQUMsQ0FBQztRQUNiLEtBQUs7UUFDTCxJQUFJLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFD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QUFFLENBb0JmO0FBcEJELFdBQWMsRUFBRTtJQUNaO1FBQWdDLDhCQUFLO1FBYWpDO21CQUFlLGlCQUFPO1FBQUEsQ0FBQztRQUN2QixtQ0FBYyxHQUFkO1lBQ0ksaUJBQU0sY0FBYyxXQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMvQixDQUFDO1FBQ0wsaUJBQUM7SUFBRCxDQWxCQSxBQWtCQyxDQWxCK0IsS0FBSyxHQWtCcEM7SUFsQlksYUFBVSxhQWtCdEIsQ0FBQTtBQUNMLENBQUMsRUFwQmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBb0JmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIlxuaW1wb3J0IEdhbWVDb25zdHJvbGwgZnJvbSBcIi4vc2NyaXB0L0dhbWVDb25zdHJvbGxcIlxuaW1wb3J0IEJlYW5TY3JpcHQgZnJvbSBcIi4vc2NyaXB0L0JlYW5TY3JpcHRcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwiaG9yaXpvbnRhbFwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwiZ2FtZU1haW4uc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49dHJ1ZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVVSS50c1wiLEdhbWVVSSk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lQ29uc3Ryb2xsLnRzXCIsR2FtZUNvbnN0cm9sbCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9CZWFuU2NyaXB0LnRzXCIsQmVhblNjcmlwdCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCIvKipcclxuICog5a+56LGh5a2X5YW4XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYmpEaWN0aW9uYXJ5e1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLl9jb250YWluZXI9bmV3IE9iamVjdCgpO1xyXG4gICAgICAgIHRoaXMuX2xlbmd0aD0wO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfY29udGFpbmVyOk9iamVjdDtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGNvbnRhaW5lcigpOk9iamVjdHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfbGVuZ3RoOm51bWJlcjtcclxuICAgIHB1YmxpYyBnZXQgbGVuZ3RoKCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgYWRkKGtleTphbnksdmFsdWU6YW55KTp2b2lke1xyXG4gICAgICAgIGlmKCF0aGlzLmNvbnRhaW5zS2V5KGtleSkpe1xyXG4gICAgICAgICAgICB0aGlzLl9sZW5ndGgrKztcclxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyW2tleV09dmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIHJlc2V0KGtleTphbnksdmFsdWU6YW55KTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuY29udGFpbnNLZXkoa2V5KSl7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lcltrZXldPXZhbHVlO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW3sue7j+acieS6huOAguOAglwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyByZW1vdmUoa2V5OmFueSk6dm9pZHtcclxuICAgICAgICBpZih0aGlzLl9jb250YWluZXIuaGFzT3duUHJvcGVydHkoa2V5KSl7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lcltrZXldPW51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2xlbmd0aC0tO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQoa2V5OmFueSk6YW55e1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXJba2V5XTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBjb250YWluc0tleShrZXk6YW55KTpib29sZWFue1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXIuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBjbGVhcigpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fbGVuZ3RoPTA7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyPW51bGw7XHJcblxyXG4gICAgfVxyXG5cclxufSIsIi8vIOWbm+WPieagkeeahOWunueOsFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWFkdHJlZXtcclxuICAgIHByaXZhdGUgTUFYX09CSkVDVFM6bnVtYmVyID0gMTA7XHJcbiAgICBwcml2YXRlIE1BWF9MRVZFTFM6bnVtYmVyID0gNTtcclxuXHJcbiAgICBwcml2YXRlIGxldmVsOm51bWJlcjsgICAgICAgICAgIC8vIOWtkOiKgueCuea3seW6plxyXG4gICAgcHJpdmF0ZSBvYmplY3RzOmFueTsgICAgICAgICAgICAvLyDniankvZPmlbDnu4RcclxuICAgIHByaXZhdGUgYm91bmRzOkxheWEuUmVjdGFuZ2xlOyAgLy8g5Yy65Z+f6L6555WMXHJcbiAgICBwcml2YXRlIG5vZGVzOkFycmF5PFF1YWR0cmVlPj1bXTsgXHJcblxyXG4gICAgY29uc3RydWN0b3IobGV2ZWw6bnVtYmVyLGJvdW5kczpMYXlhLlJlY3RhbmdsZSl7XHJcbiAgICAgICAgdGhpcy5sZXZlbD1sZXZlbDtcclxuICAgICAgICB0aGlzLmJvdW5kcz1ib3VuZHM7XHJcbiAgICAgICAgdGhpcy5vYmplY3RzPVtdO1xyXG4gICAgICAgIHRoaXMubm9kZXM9W107XHJcbiAgICB9XHJcbiAgICAvLyBjbGVhciwgc3BsaXQsIGdldEluZGV4LCBpbnNlcnTlkowgcmV0cmlldmVcclxuICAgIGNsZWFyKCk6dm9pZHtcclxuICAgICAgICB0aGlzLm9iamVjdHM9W107XHJcblxyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5ub2Rlcy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgdGhpcy5ub2Rlc1tpXS5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVzW2ldPW51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/lsIblvZPliY3oioLngrnliIblibLmiJA05Liq6IqC54K544CC44CCXHJcbiAgICBzcGxpdCgpOnZvaWR7XHJcbiAgICAgICB2YXIgdyA9IHRoaXMuYm91bmRzLndpZHRoLzIsXHJcbiAgICAgICAgICAgaCA9IHRoaXMuYm91bmRzLmhlaWdodC8yLFxyXG4gICAgICAgICAgIHggPSB0aGlzLmJvdW5kcy54LFxyXG4gICAgICAgICAgIHkgPSB0aGlzLmJvdW5kcy55O1xyXG4gICAgICAgdGhpcy5ub2Rlc1swXT1uZXcgUXVhZHRyZWUodGhpcy5sZXZlbCsxLG5ldyBMYXlhLlJlY3RhbmdsZSh4K3cseSx3LGgpKTtcclxuICAgICAgIHRoaXMubm9kZXNbMV09bmV3IFF1YWR0cmVlKHRoaXMubGV2ZWwrMSxuZXcgTGF5YS5SZWN0YW5nbGUoeCx5LHcsaCkpO1xyXG4gICAgICAgdGhpcy5ub2Rlc1syXT1uZXcgUXVhZHRyZWUodGhpcy5sZXZlbCsxLG5ldyBMYXlhLlJlY3RhbmdsZSh4LHkraCx3LGgpKTtcclxuICAgICAgIHRoaXMubm9kZXNbM109bmV3IFF1YWR0cmVlKHRoaXMubGV2ZWwrMSxuZXcgTGF5YS5SZWN0YW5nbGUoeCt3LHkraCx3LGgpKTtcclxuICAgIH1cclxuICAgIC8v5b6X5Yiw6L+Z5Liq6IqC54K555qE57Si5byVXHJcbiAgICBnZXRJbmRleChwUmVjdDpMYXlhLlJlY3RhbmdsZSk6bnVtYmVye1xyXG4gICAgICAgIHZhciBpbmRleD0tMTtcclxuICAgICAgICAvLyDkuK3nur9cclxuICAgICAgICB2YXIgdj10aGlzLmJvdW5kcy54K3RoaXMuYm91bmRzLndpZHRoLzIsXHJcbiAgICAgICAgICAgIGg9dGhpcy5ib3VuZHMueSt0aGlzLmJvdW5kcy5oZWlnaHQvMjtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgdD1wUmVjdC55PGgmJnBSZWN0LnkrcFJlY3QuaGVpZ2h0PGgsLy8g5a6M5YWo5Zyo5LiK6Z2iXHJcbiAgICAgICAgICAgIGI9cFJlY3QueT5oLC8vIOWujOWFqOWcqOS4i+mdolxyXG4gICAgICAgICAgICByPXBSZWN0Lng+diwvL+WPs+i+uVxyXG4gICAgICAgICAgICBsPXBSZWN0LngrcFJlY3Qud2lkdGg8djsvL+W3pui+uVxyXG4gICAgICAgIGlmKHIpe1xyXG4gICAgICAgICAgICBpZih0KWluZGV4PTA7XHJcbiAgICAgICAgICAgIGlmKGIpaW5kZXg9MztcclxuICAgICAgICB9ZWxzZSBpZihsKXtcclxuICAgICAgICAgICAgaWYodClpbmRleD0xO1xyXG4gICAgICAgICAgICBpZihiKWluZGV4PTI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuICAgIC8vIOaPkuWFpVxyXG4gICAgaW5zZXJ0KG9iajphbnkpOnZvaWR7XHJcbiAgICAgICAgaWYob2JqPT11bmRlZmluZWQpcmV0dXJuO1xyXG4gICAgICAgIGlmKG9iaiBpbnN0YW5jZW9mIEFycmF5KXtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxvYmoubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydChvYmpbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5ub2Rlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB2YXIgaW5kZXg9dGhpcy5nZXRJbmRleChvYmopO1xyXG4gICAgICAgICAgICBpZihpbmRleCE9LTEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlc1tpbmRleF0uaW5zZXJ0KG9iaik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYmplY3RzLnB1c2gob2JqKTtcclxuICAgICAgICBpZih0aGlzLm9iamVjdHMubGVuZ3RoPnRoaXMuTUFYX09CSkVDVFMmJnRoaXMubGV2ZWw8dGhpcy5NQVhfTEVWRUxTKXtcclxuICAgICAgICAgICAgaWYodGhpcy5ub2Rlc1swXT09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGk9MDtcclxuICAgICAgICAgICAgd2hpbGUoaTx0aGlzLm9iamVjdHMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbmQ9dGhpcy5nZXRJbmRleCh0aGlzLm9iamVjdHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgaWYoaW5kIT0tMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2Rlc1tpbmRdLmluc2VydCgodGhpcy5vYmplY3RzLnNwbGljZShpLDEpKVswXSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgLy/miYDmnInlj6/og73lkozmjIflrprnianlk4HnorDmkp7nmoTniankvZNcclxuICAgIHJldHJpZXZlKHJldHVybmVkT2JqZWN0cyxvYmopOmFueXtcclxuICAgICAgICBpZih0eXBlb2Ygb2JqID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInVuZGVyZmluZWQgb2JqZWN0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbmRleD10aGlzLmdldEluZGV4KG9iaik7XHJcbiAgICAgICAgaWYoaW5kZXghPS0xICYmIHRoaXMubm9kZXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgdGhpcy5ub2Rlc1tpbmRleF0ucmV0cmlldmUocmV0dXJuZWRPYmplY3RzLG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5vYmplY3RzLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICByZXR1cm5lZE9iamVjdHMucHVzaCh0aGlzLm9iamVjdHNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmV0dXJuZWRPYmplY3RzO1xyXG4gICAgfVxyXG59IiwiLypcclxuICogQERlc2NyaXB0aW9uOuaemuS4vlxyXG4gKiBAQXV0aG9yOiBqd2VpXHJcbiAqIEBEYXRlOiAyMDE4LTExLTIyIDE2OjI1OjEzXHJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMTgtMTEtMjIgMTY6Mjc6MDZcclxuICogQExhc3RFZGl0b3JzOiBqd2VpXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sQ01Ee1xyXG4gICAgc3RhdGljIFJPQ0tFUl9NT1ZFOnN0cmluZz1cInJvY2tlcl9tb3ZlXCI7XHJcbn1cclxuIiwiLyoqXHJcbiAqIOW3peWFt+WHveaVsFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbFV0aWxze1xyXG4gICAgLyoqXHJcbiAgICAgKiDlvpfliLDkuKTngrnnmoTot53nprvjgILjgIJcclxuICAgICAqIEBwYXJhbSB4MSBcclxuICAgICAqIEBwYXJhbSB5MSBcclxuICAgICAqIEBwYXJhbSB4MiBcclxuICAgICAqIEBwYXJhbSB5MiBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldERpc3RhbmNlKHgxLHkxLHgyLHkyKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh4MS14MiwyKStNYXRoLnBvdyh5MS15MiwyKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZVVJIGZyb20gXCIuL0dhbWVVSVwiO1xyXG5cclxuLyoqXHJcbiAqIOmjn+eJqeeahOiEmuacrFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmVhblNjcmlwdCBleHRlbmRzIExheWEuU2NyaXB0e1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG4gICAgb25FbmFibGUoKTp2b2lke1xyXG4gICAgLy8gICAgdmFyIHNwOkxheWEuU3ByaXRlPXRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICB9XHJcbiAgICBvblRyaWdnZXJFbnRlcigpOnZvaWR7XHJcbiAgICAgICAgLy/norDliLDlsLHmtojlpLFcclxuICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxuICAgIG9uRGVzdHJveSgpOnZvaWR7XHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJiZWFuXCIsdGhpcy5vd25lcik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi4vR2FtZUNvbmZpZ1wiO1xyXG5cclxuLypcclxuICogQERlc2NyaXB0aW9uOiAyZOebuOacuui3n+maj1xyXG4gKiBAQXV0aG9yOiBqd2VpIFxyXG4gKiBARGF0ZTogMjAxOC0xMS0yMiAxMjowMzoxOVxyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDE4LTExLTIzIDEwOjU4OjQxXHJcbiAqIEBMYXN0RWRpdG9yczogUGxlYXNlIHNldCBMYXN0RWRpdG9yc1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhMkR7XHJcbiAgICAvL+WNleS+i1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBDYW1lcmEyRDtcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCk6IENhbWVyYTJEIHtcclxuICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IHRoaXMuX2luc3RhbmNlIHx8IG5ldyBDYW1lcmEyRDtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2VcclxuICAgIH1cclxuXHJcbiAgICAvLyDop4bnqpdcclxuICAgIHByaXZhdGUgX2NhbWVyYVZpZXc6TGF5YS5SZWN0YW5nbGU7XHJcbiAgICBwdWJsaWMgZ2V0IGNhbWVyYVZpZXcoKTpMYXlhLlJlY3RhbmdsZXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FtZXJhVmlldztcclxuICAgIH1cclxuICAgIHByaXZhdGUgX3NjZW5lOkxheWEuU3ByaXRlO1xyXG4gICAgcHJpdmF0ZSBfZm9jdXNUYXJnZXQ6TGF5YS5TcHJpdGU7XHJcbiAgICBwcml2YXRlIF9tYXBXPTMwMDA7XHJcbiAgICBwcml2YXRlIF9tYXBIPTE1MDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgIFxyXG4gICAgfVxyXG4gICAgc3RhcnQoc2NlbmU6TGF5YS5TcHJpdGUpOnZvaWR7XHJcbiAgICAgICB0aGlzLl9zY2VuZT1zY2VuZTtcclxuICAgICAgIHRoaXMuX2NhbWVyYVZpZXc9bmV3IExheWEuUmVjdGFuZ2xlKDAsMCxHYW1lQ29uZmlnLndpZHRoLEdhbWVDb25maWcuaGVpZ2h0KTtcclxuICAgICAgIHRoaXMuX3NjZW5lLnNjcm9sbFJlY3Q9dGhpcy5fY2FtZXJhVmlldztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtc2c6IOe7keWumuS4u+inhuinklxyXG4gICAgICogQHBhcmFtIHt0eXBlfSBcclxuICAgICAqIEByZXR1cm46IFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZm9jdXModGFyZ2V0OkxheWEuU3ByaXRlKTp2b2lke1xyXG4gICAgICAgIHRoaXMuX2ZvY3VzVGFyZ2V0PXRhcmdldDtcclxuICAgICAgICB0aGlzLl9jYW1lcmFWaWV3Lng9dGhpcy5fZm9jdXNUYXJnZXQueC0oR2FtZUNvbmZpZy53aWR0aD4+MSk7XHJcbiAgICAgICAgdGhpcy5fY2FtZXJhVmlldy55PXRoaXMuX2ZvY3VzVGFyZ2V0LnktKEdhbWVDb25maWcuaGVpZ2h0Pj4xKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBAbXNnOuWunuaXtuabtOaWsCBcclxuICAgICAqIEBwYXJhbSB7dHlwZX0gXHJcbiAgICAgKiBAcmV0dXJuOiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZSgpOnZvaWR7XHJcbiAgICAgICAgaWYodGhpcy5fZm9jdXNUYXJnZXQpe1xyXG4gICAgICAgICAgICBpZih0aGlzLl9mb2N1c1RhcmdldC54PjAgJiYgKHRoaXMuX2ZvY3VzVGFyZ2V0LngtR2FtZUNvbmZpZy53aWR0aC8yKSA8IHRoaXMuX21hcFcpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhVmlldy54PXRoaXMuX2ZvY3VzVGFyZ2V0LngtKEdhbWVDb25maWcud2lkdGg+PjEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX2ZvY3VzVGFyZ2V0Lnk+KEdhbWVDb25maWcuaGVpZ2h0Pj4xKSB8fCAodGhpcy5fZm9jdXNUYXJnZXQueStHYW1lQ29uZmlnLmhlaWdodC8yKSA8IHRoaXMuX21hcEgpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhVmlldy55PXRoaXMuX2ZvY3VzVGFyZ2V0LnktKEdhbWVDb25maWcuaGVpZ2h0Pj4xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgR2FtZVVJLCB7IFVJTmFtZSB9IGZyb20gXCIuL0dhbWVVSVwiO1xyXG5pbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi4vR2FtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgVG9vbFV0aWxzIGZyb20gXCIuLi9jb25maWcvVG9vbFV0aWxzXCI7XHJcbmltcG9ydCBTbmFrZSBmcm9tIFwiLi9TbmFrZVwiO1xyXG5pbXBvcnQgUXVhZFRyZWUgZnJvbSBcIi4uL2NvbmZpZy9RdWFkdHJlZVwiO1xyXG5pbXBvcnQgR2FtZURhdGEgZnJvbSBcIi4vR2FtZURhdGFcIjtcclxuaW1wb3J0IE9iakRpY3Rpb25hcnkgZnJvbSBcIi4uL2NvbmZpZy9PYmpEaWN0aW9uYXJ5XCI7XHJcbi8qKlxyXG4gKiDmuLjmiI/mjqfliLbohJrmnKxcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25zdHJvbGwgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpCZWFuLHRpcHM6XCLpgZPlhbdcIix0eXBlOlByZWZhYn0gKi9cclxuICAgIEJlYW46TGF5YS5QcmVmYWI7XHJcblxyXG4gICAgcHJpdmF0ZSBfZ2FtZUJveDpMYXlhLlNwcml0ZTtcclxuICAgIHByaXZhdGUgX2JlYW5RdWFkVHJlZTpRdWFkVHJlZT1udWxsOy8v55So5Zub5Y+J5qCR5L+d5a2Y6YGT5YW377yM5LyY5YyW56Kw5pKe5qOA5rWLXHJcbiAgICBwcml2YXRlIF9zbmFrZUFpT2JqTGlzdDpPYmpEaWN0aW9uYXJ5PW5ldyBPYmpEaWN0aW9uYXJ5KCk7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcbiAgICBvbkVuYWJsZSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveCA9IHRoaXMub3duZXJbXCJnYW1lQm94XCJdIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIHRoaXMuX2JlYW5RdWFkVHJlZSA9IG5ldyBRdWFkVHJlZSgzLG5ldyBMYXlhLlJlY3RhbmdsZSgwLDAsMzAwMCwxNTAwKSk7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlQmVhbigpO1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZVNuYWtlQWkoKTtcclxuICAgIH1cclxuICAgICAvKipcclxuICAgICAqICDpmo/mnLrnlJ/miJDkuIDkuKrpgZPlhbdcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfcmFuZG9tQ3JlYXRlQmVhbih4LHksY29sOm51bWJlcj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNSsxKSx3Om51bWJlcj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNSs1KSk6dm9pZHtcclxuICAgICAgICB2YXIgYmVhbjpMYXlhLlNwcml0ZSA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJiZWFuXCIsdGhpcy5CZWFuLmNyZWF0ZSx0aGlzLkJlYW4pO1xyXG4gICAgICAgICAgICBiZWFuLmxvYWRJbWFnZShcImltYWdlcy9iZWFuXCIrY29sK1wiLnBuZ1wiKTtcclxuICAgICAgICAgICAgYmVhbi53aWR0aD13O1xyXG4gICAgICAgICAgICBiZWFuLmhlaWdodD13O1xyXG4gICAgICAgICAgICBiZWFuLnBvcyh4LHkpO1xyXG4gICAgICAgIEdhbWVEYXRhLmJlYW5MaXN0LnB1c2goYmVhbik7XHJcbiAgICAgICAgdGhpcy5fYmVhblF1YWRUcmVlLmluc2VydChiZWFuKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94LmFkZENoaWxkKGJlYW4pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlnKjlrrnlmajph4znlJ/miJDom4cs6buY6K6kYWnom4dcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfcmFuZG9tQ3JlYXRlU25ha2UoeCx5LG5hbWU6c3RyaW5nLGFpOmJvb2xlYW49dHJ1ZSk6dm9pZHtcclxuICAgICAgICB2YXIgc25ha2UgPSBuZXcgU25ha2UoeCx5LG5hbWUpO1xyXG4gICAgICAgICAgICBzbmFrZS5BST1haTtcclxuICAgICAgICAgICAgR2FtZVVJLmluc3RhbmNlLmdhbWVCb3guYWRkQ2hpbGQoc25ha2UpO1xyXG4gICAgICAgICAgICBHYW1lRGF0YS5hbGxTbmFrZUxpc3QucHVzaChzbmFrZSk7IFxyXG4gICAgICAgICAgICBHYW1lRGF0YS5hbGxIaXN0b3J5U25ha2VOdW0rKztcclxuICAgICAgICAgICAgaWYoYWkpdGhpcy5fc25ha2VBaU9iakxpc3QuYWRkKG5hbWUsc25ha2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnlJ/miJDkuIDloIbpgZPlhbdcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfY3JlYXRlQmVhbigpOnZvaWR7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTwzMDA7aSsrKXtcclxuICAgICAgICAgICAgdGhpcy5fcmFuZG9tQ3JlYXRlQmVhbihNYXRoLnJhbmRvbSgpKjMwMDAsTWF0aC5yYW5kb20oKSoxNTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOajgOa1i+mBk+WFt+aVsOmHj++8jOihpeWFhVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9jaGVja0JlYW4oKTp2b2lke1xyXG4gICAgICAgIHdoaWxlKEdhbWVEYXRhLmJlYW5MaXN0Lmxlbmd0aDwzMDApe1xyXG4gICAgICAgICAgICB0aGlzLl9yYW5kb21DcmVhdGVCZWFuKE1hdGgucmFuZG9tKCkqMzAwMCxNYXRoLnJhbmRvbSgpKjE1MDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5qOA5rWLQUnom4fmlbDph4/vvIzooaXlhYXjgIJcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfY2hlY2tBaVNhbmtlKCk6dm9pZHtcclxuICAgICAgICB3aGlsZSh0aGlzLl9zbmFrZUFpT2JqTGlzdC5sZW5ndGg8R2FtZURhdGEubWF4U25ha2VOdW0pe1xyXG4gICAgICAgICAgICB0aGlzLl9yYW5kb21DcmVhdGVTbmFrZShNYXRoLnJhbmRvbSgpKjI1MDArMTAwLE1hdGgucmFuZG9tKCkqMTAwMCsxMDAsXCJzbmFrZVwiK0dhbWVEYXRhLmFsbEhpc3RvcnlTbmFrZU51bSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnlJ/miJBBSeibh1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9jcmVhdGVTbmFrZUFpKCk6dm9pZHtcclxuICAgICAgICBmb3IodmFyIGk9MDtpPEdhbWVEYXRhLm1heFNuYWtlTnVtO2krKyl7XHJcbiAgICAgICAgICAgdGhpcy5fcmFuZG9tQ3JlYXRlU25ha2UoaSoyMDAsaSoyMDAsXCJzbmFrZVwiK2kpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBHYW1lRGF0YS5hbGxTbmFrZUxpc3QucHVzaChHYW1lVUkuaW5zdGFuY2Uuc25ha2VTZWxmKTtcclxuICAgICAgICBMYXlhLnRpbWVyLmxvb3AoMzAwMCx0aGlzLHRoaXMuX3NuYWtlQWlBY3Rpb24pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBSeibh+i/kOWKqFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9zbmFrZUFpQWN0aW9uKCk6dm9pZHtcclxuICAgICAgICBmb3IodmFyIGk9MDtpPEdhbWVEYXRhLmFsbFNuYWtlTGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgdmFyIHNuYWtlPUdhbWVEYXRhLmFsbFNuYWtlTGlzdFtpXTtcclxuICAgICAgICAgICAgaWYoc25ha2UuQUkpe1xyXG4gICAgICAgICAgICAgICAgR2FtZURhdGEuYWxsU25ha2VMaXN0W2ldLnVwTW92ZSgxODAgLSBNYXRoLnJhbmRvbSgpICogMzYwKTtcclxuICAgICAgICAgICAgICAgIEdhbWVEYXRhLmFsbFNuYWtlTGlzdFtpXS5zcGVlZE5vdz1NYXRoLnJhbmRvbSgpPDAuOT9cInNsb3dcIjpcImZhc3RcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6JuH5LmL6Ze055qE56Kw5pKe5qOA5rWLXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX3NuYWtlQ29sbGlzaW9uKCk6dm9pZHtcclxuICAgICAgICB2YXIgaGVhZCxib2R5cyxib2R5O1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8R2FtZURhdGEuYWxsU25ha2VMaXN0Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBoZWFkPUdhbWVEYXRhLmFsbFNuYWtlTGlzdFtpXTtcclxuICAgICAgICAgICAgZm9yKHZhciBqPTA7ajxHYW1lRGF0YS5hbGxTbmFrZUxpc3QubGVuZ3RoO2orKyl7XHJcbiAgICAgICAgICAgICAgICBib2R5cz1HYW1lRGF0YS5hbGxTbmFrZUxpc3Rbal07XHJcbiAgICAgICAgICAgICAgICBpZihoZWFkIT1ib2R5cyYmIWhlYWQuSW52aW5jaWJsZVNlY29uZCYmIWJvZHlzLkludmluY2libGVTZWNvbmQpey8v5LiN5piv5ZCM5LiA5p2h6JuH77yM5LiU5LiN6IO95pyJ6JuH5piv5peg5pWM55qE44CC44CCXHJcbiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzmmK/norDlpLTkuobjgILjgILlsLHkuIDotbfmtojlpLHjgILjgIJcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGs9MTtrPGJvZHlzLmJvZHlMaXN0Lmxlbmd0aDtrKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5PWJvZHlzLmJvZHlMaXN0W2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihUb29sVXRpbHMuZ2V0RGlzdGFuY2UoaGVhZC54LGhlYWQueSxib2R5LngsYm9keS55KTw9NDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaGVhZC5pZCtcIueisOWIsOS6hlwiK2JvZHlzLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NuYWtlS2lsbENoYW5nZUJlYW4oaGVhZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWhlYWQuQUkpe0dhbWVVSS5pbnN0YW5jZS5zaG93VUkoVUlOYW1lLk9WRVJVSSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRoaXMuX3NuYWtlQWlPYmpMaXN0LnJlbW92ZShoZWFkLmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVEYXRhLmFsbFNuYWtlTGlzdC5zcGxpY2UoaSwxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6JuH5q275ZCO55WZ5LiL55qE6YGT5YW3XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX3NuYWtlS2lsbENoYW5nZUJlYW4oc246U25ha2UpOnZvaWR7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTxzbi5ib2R5TGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgdmFyIGJvZHk9c24uYm9keUxpc3RbaV07XHJcbiAgICAgICAgICAgIHRoaXMuX3JhbmRvbUNyZWF0ZUJlYW4oYm9keS54LGJvZHkueSxzbi5zbmFrZUNvbE51bSxNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTUrNSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgXHJcbiAgICBvblVwZGF0ZSgpOnZvaWR7XHJcbiAgICAgICAgR2FtZVVJLmluc3RhbmNlLlVwZGF0ZSgpO1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8R2FtZURhdGEuYWxsU25ha2VMaXN0Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICB2YXIgc25ha2U9R2FtZURhdGEuYWxsU25ha2VMaXN0W2ldO1xyXG4gICAgICAgICAgICBpZihzbmFrZS5BSSl7XHJcbiAgICAgICAgICAgICAgICBzbmFrZS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jaGVja0JlYW4oKTtcclxuICAgICAgICB0aGlzLl9jaGVja0FpU2Fua2UoKTtcclxuICAgICAgICB0aGlzLl9zbmFrZUNvbGxpc2lvbigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFNuYWtlIGZyb20gXCIuL1NuYWtlXCI7XHJcbmltcG9ydCBRdWFkdHJlZSBmcm9tIFwiLi4vY29uZmlnL1F1YWR0cmVlXCI7XHJcblxyXG4vKipcclxuICog5ri45oiP5pWw5o2uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lRGF0YXtcclxuICAgIHN0YXRpYyBiZWFuTGlzdDpBcnJheTxMYXlhLlNwcml0ZT49W107IC8v5bCP6LGG5a2Q5a+56LGhXHJcbiAgICBzdGF0aWMgYmVhblF1YWQ6UXVhZHRyZWU7IC8v5L2/55So5Zub5Y+J5qCR5a2Y5YKo5bCP6LGG5a2Q5a+56LGh44CC44CC5LyY5YyW44CCXHJcbiAgICBzdGF0aWMgYWxsU25ha2VMaXN0OkFycmF5PFNuYWtlPj1bXTsvL+ibh+WvueixoeaVsOe7hFxyXG4gICAgc3RhdGljIG1heFNuYWtlTnVtOm51bWJlcj0xMDtcclxuICAgIHN0YXRpYyBhbGxIaXN0b3J5U25ha2VOdW06bnVtYmVyPTA7XHJcbn1cclxuIiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCBSb2NrZXIgZnJvbSBcIi4vUm9ja2VyXCI7XHJcbmltcG9ydCBDYW1lcmEyRCBmcm9tIFwiLi9DYW1lcmEyRFwiO1xyXG5pbXBvcnQgVG9vbENNRCBmcm9tIFwiLi4vY29uZmlnL1Rvb2xDTURcIjtcclxuaW1wb3J0IFNuYWtlIGZyb20gXCIuL1NuYWtlXCI7XHJcbmltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuLi9HYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBHYW1lRGF0YSBmcm9tIFwiLi9HYW1lRGF0YVwiO1xyXG5cclxuLyoqXHJcbiAqIOa4uOaIj1VJXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyB1aS5nYW1lTWFpblVJe1xyXG5cclxuICAgIC8v6aOf54mp6aKE5Yi25Lu2XHJcbiAgICAvKiogQHByb3Age25hbWU6QnJpZCx0aXBzOlwi5bCP6bifXCIsdHlwZTpQcmVmYWJ9ICovXHJcbiAgICBCZWFuOkxheWEuUHJlZmFiO1xyXG4gICAgc3RhdGljIGluc3RhbmNlOkdhbWVVSTtcclxuICAgIFxyXG4gICAgc25ha2VTZWxmOlNuYWtlOyAvL+ibh1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIEdhbWVVSS5pbnN0YW5jZT10aGlzO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuX2FkZEV2ZW50KCk7XHJcbiAgICB9XHJcbiAgICBpbml0KCk6dm9pZHtcclxuICAgICAgICBSb2NrZXIuaW5zdGFuY2UuaW5pdCh0aGlzLnJvY2tlck1vdmUsdGhpcy5yb2NrZXJCb3gpOy8v5pON5L2c5p2GXHJcblxyXG4gICAgICAgIHRoaXMuc25ha2VTZWxmPW5ldyBTbmFrZShHYW1lQ29uZmlnLndpZHRoLzIsR2FtZUNvbmZpZy5oZWlnaHQvMixcInBsYXllclwiKTtcclxuICAgICAgICB0aGlzLmdhbWVCb3guYWRkQ2hpbGQodGhpcy5zbmFrZVNlbGYpO1xyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0LmNoYW5nZVRleHQodGhpcy5zbmFrZVNlbGYuc25ha2VFYXRCZWFuTnVtK1wiXCIpO1xyXG5cclxuICAgICAgICBDYW1lcmEyRC5pbnN0YW5jZS5zdGFydCh0aGlzLndvcmxkTWFwKTsgXHJcbiAgICAgICAgQ2FtZXJhMkQuaW5zdGFuY2UuZm9jdXModGhpcy5zbmFrZVNlbGYpO1xyXG5cclxuICAgICAgICBMYXlhLnN0YWdlLm9uKFRvb2xDTUQuUk9DS0VSX01PVkUsdGhpcyx0aGlzLl9nZXRSb2NrZXJBbmdsZSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9hZGRFdmVudCgpOnZvaWR7XHJcbiAgICAgICAgLy/liqDpgJ9cclxuICAgICAgICB0aGlzLnNwZWVkQnRuLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTix0aGlzLHRoaXMuX29uU3BlZWRCdG4pO1xyXG4gICAgICAgIHRoaXMuc3BlZWRCdG4ub24oTGF5YS5FdmVudC5NT1VTRV9VUCx0aGlzLHRoaXMuX29uU3BlZWRCdG4pO1xyXG5cclxuICAgICAgICAvL+mHjeaWsOW8gOWni1xyXG4gICAgICAgIHRoaXMuYWdhaW4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuY3JlYXRlUGxheWVyKTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6YeN5paw55Sf5oiQ6Ieq5bex6JuHXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVBsYXllcigpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5zbmFrZVNlbGY9bmV3IFNuYWtlKEdhbWVDb25maWcud2lkdGgvMixHYW1lQ29uZmlnLmhlaWdodC8yLFwicGxheWVyXCIpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUJveC5hZGRDaGlsZCh0aGlzLnNuYWtlU2VsZik7XHJcbiAgICAgICAgQ2FtZXJhMkQuaW5zdGFuY2UuZm9jdXModGhpcy5zbmFrZVNlbGYpO1xyXG4gICAgICAgIEdhbWVEYXRhLmFsbFNuYWtlTGlzdC5wdXNoKEdhbWVVSS5pbnN0YW5jZS5zbmFrZVNlbGYpO1xyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0LmNoYW5nZVRleHQodGhpcy5zbmFrZVNlbGYuc25ha2VFYXRCZWFuTnVtK1wiXCIpO1xyXG4gICAgICAgIHRoaXMuc2hvd1VJKFVJTmFtZS5HQU1FKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6YCf55qE5pa55rOV5Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gZSBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfb25TcGVlZEJ0bihlOkxheWEuRXZlbnQpOnZvaWR7XHJcbiAgICAgICAgaWYoZS50eXBlPT1cIm1vdXNlZG93blwiKXtcclxuICAgICAgICAgICAgdGhpcy5zbmFrZVNlbGYuc3BlZWROb3c9XCJmYXN0XCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuc25ha2VTZWxmLnNwZWVkTm93PVwic2xvd1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5pGH5p2G55qE5Zue6LCD5Ye95pWwXHJcbiAgICAgKiBAcGFyYW0gYW5nbGUg5byn5bqmXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX2dldFJvY2tlckFuZ2xlKGFuZ2xlKTp2b2lke1xyXG4gICAgICAgIHRoaXMuc25ha2VTZWxmLnVwTW92ZShMYXlhLlV0aWxzLnRvQW5nbGUoYW5nbGUpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5ri45oiP5a6e5pe25pWw5o2uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX3JlbmRlclVJRGF0YSgpOnZvaWR7XHJcbiAgICAgICB0aGlzLnNuYWtlTnVtVGV4dC5jaGFuZ2VUZXh0KEdhbWVEYXRhLmFsbFNuYWtlTGlzdC5sZW5ndGgrXCJcIik7XHJcbiAgICAgICB0aGlzLmJlYW5OdW1UZXh0LmNoYW5nZVRleHQoR2FtZURhdGEuYmVhbkxpc3QubGVuZ3RoK1wiXCIpO1xyXG4gICAgICAgdGhpcy5zY29yZVRleHQuY2hhbmdlVGV4dCh0aGlzLnNuYWtlU2VsZi5zbmFrZUVhdEJlYW5OdW0rXCJcIik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOabtOaNolVJXHJcbiAgICAgKi9cclxuICAgIHNob3dVSSh1aW5hbWUpOnZvaWR7XHJcbiAgICAgICAgc3dpdGNoKHVpbmFtZSl7XHJcbiAgICAgICAgICAgIGNhc2UgVUlOYW1lLkJFR0lOVUk6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVSU5hbWUuR0FNRTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIudmlzaWJsZT1mYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFVJTmFtZS5PVkVSVUk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPdmVyLnZpc2libGU9dHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFVwZGF0ZSgpOnZvaWR7XHJcbiAgICAgICAgQ2FtZXJhMkQuaW5zdGFuY2UudXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5zbmFrZVNlbGYudXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyVUlEYXRhKCk7XHJcbiAgICB9XHJcblxyXG59XHJcbmV4cG9ydCBlbnVtIFVJTmFtZXtcclxuICAgIEJFR0lOVUksXHJcbiAgICBHQU1FLFxyXG4gICAgT1ZFUlVJLFxyXG59IiwiaW1wb3J0IFRvb2xDTUQgZnJvbSBcIi4uL2NvbmZpZy9Ub29sQ01EXCI7XHJcblxyXG4vKlxyXG4gKiBARGVzY3JpcHRpb246IOaTjeS9nOadhlxyXG4gKiBAQXV0aG9yOmp3ZWlcclxuICogQERhdGU6IDIwMTgtMTEtMjIgMTI6MDQ6MjJcclxuICogQExhc3RFZGl0VGltZTogMjAxOC0xMS0yMyAxMDo0NDowNVxyXG4gKiBATGFzdEVkaXRvcnM6IFBsZWFzZSBzZXQgTGFzdEVkaXRvcnNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvY2tlcntcclxuICAgIC8v5Y2V5L6LXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IFJvY2tlcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCk6IFJvY2tlciB7XHJcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSB0aGlzLl9pbnN0YW5jZSB8fCBuZXcgUm9ja2VyO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvL+iusOW9leS4reW/g+eCueOAguOAglxyXG4gICAgcHJpdmF0ZSBfY2VudGVyUG9zaXRpb246TGF5YS5Qb2ludDtcclxuICAgIC8v5aSn5ZyGXHJcbiAgICBwcml2YXRlIF9iaWdTcDpMYXlhLlNwcml0ZTtcclxuICAgIC8v5bCP5ZyGXHJcbiAgICBwcml2YXRlIF9taW5TcDpMYXlhLlNwcml0ZTtcclxuICAgIC8v5aSa54K56Kem5o6n77yM6K6w5b2V5b2T5YmN6Kem5o6naWRcclxuICAgIHByaXZhdGUgX3RvdWNoSWQ6bnVtYmVyPS0xO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgfSAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBAbXNnOiDliJ3lp4vljJblj4LmlbBcclxuICAgICAqIEBwYXJhbSB7dHlwZX0gXHJcbiAgICAgKiBAcmV0dXJuOiBcclxuICAgICAqL1xyXG4gICAgaW5pdChzcDpMYXlhLlNwcml0ZSxzcEJveDpMYXlhLlNwcml0ZSk6TGF5YS5TcHJpdGV7XHJcbiAgICAgICAgdGhpcy5fY2VudGVyUG9zaXRpb249bmV3IExheWEuUG9pbnQoKTtcclxuICAgICAgICB0aGlzLl9jZW50ZXJQb3NpdGlvbi54PXNwLng7XHJcbiAgICAgICAgdGhpcy5fY2VudGVyUG9zaXRpb24ueT1zcC55O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2JpZ1NwPXNwQm94O1xyXG4gICAgICAgIHRoaXMuX21pblNwPXNwO1xyXG5cclxuICAgICAgICBzcC5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sdGhpcyx0aGlzLl9vblRvdWNoRG93bik7XHJcbiAgICAgICAgcmV0dXJuIHNwQm94O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAbXNn77ya5Yia5oyJ5LiL5omn6KGM55qE5pa55rOVXHJcbiAgICAgKiBAcGFyYW0ge3R5cGV9IFxyXG4gICAgICogQHJldHVybjogXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX29uVG91Y2hEb3duKGVudDpMYXlhLkV2ZW50KTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMuX3RvdWNoSWQ9PS0xKXtcclxuICAgICAgICAgICAgdGhpcy5fdG91Y2hJZD1lbnQudG91Y2hJZDtcclxuICAgICAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX01PVkUsdGhpcyx0aGlzLl9vblRvdWNoTW92ZSk7XHJcbiAgICAgICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9VUCx0aGlzLHRoaXMuX29uVG91Y2hVcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAbXNnOuenu+WKqOaJp+ihjOeahOaWueazlSBcclxuICAgICAqIEBwYXJhbSB7dHlwZX0gXHJcbiAgICAgKiBAcmV0dXJuOiBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfb25Ub3VjaE1vdmUoZW50OkxheWEuRXZlbnQpOnZvaWR7XHJcbiAgICAgICAgaWYodGhpcy5fdG91Y2hJZCE9LTEgJiYgZW50LnRvdWNoSWQgPT0gdGhpcy5fdG91Y2hJZCl7XHJcbiAgICAgICAgICAgIHZhciBSMj10aGlzLl9iaWdTcC53aWR0aC8yLXRoaXMuX21pblNwLndpZHRoLzI7XHJcbiAgICAgICAgICAgIHZhciBSPU1hdGguc3FydChNYXRoLnBvdyhlbnQuc3RhZ2VYLXRoaXMuX2NlbnRlclBvc2l0aW9uLngsMikrTWF0aC5wb3coZW50LnN0YWdlWS10aGlzLl9jZW50ZXJQb3NpdGlvbi55LDIpKTtcclxuICAgICAgICAgICAgLy/mmK/lkKblpKfkuo7kuKTlnIbljYrlvoTkuYvlkoxcclxuICAgICAgICAgICAgaWYoUj5SMilSPVIyO1xyXG4gICAgICAgICAgICB2YXIgY3M9TWF0aC5hdGFuMihlbnQuc3RhZ2VZLXRoaXMuX2NlbnRlclBvc2l0aW9uLnksZW50LnN0YWdlWC10aGlzLl9jZW50ZXJQb3NpdGlvbi54KVxyXG4gICAgICAgICAgICB2YXIgY3g9UipNYXRoLmNvcyhjcykrdGhpcy5fY2VudGVyUG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICAgIGN5PVIqTWF0aC5zaW4oY3MpK3RoaXMuX2NlbnRlclBvc2l0aW9uLnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5TcC5wb3MoY3gsY3kpO1xyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLmV2ZW50KFRvb2xDTUQuUk9DS0VSX01PVkUsY3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQG1zZzog5omL5oqs6LW3LOS4reW/g+eahOWchuimgeW8ueWbnuWOu1xyXG4gICAgICogQHBhcmFtIHt0eXBlfSBcclxuICAgICAqIEByZXR1cm46IFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9vblRvdWNoVXAoZW50OkxheWEuRXZlbnQpOnZvaWR7XHJcbiAgICAgICAgLy/liKTmlq3mmK/lkKbmnInmjInkuIvlkozlvZPliY3miqzotbfnmoTmmK/lkKbkuLrljp/mnaXpgqPkuKrngrnjgIJcclxuICAgICAgICBpZih0aGlzLl90b3VjaElkIT0tMSAmJiBlbnQudG91Y2hJZCA9PSB0aGlzLl90b3VjaElkKXtcclxuICAgICAgICAgICAgdGhpcy5fdG91Y2hJZD0tMTtcclxuICAgICAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9NT1ZFLHRoaXMsdGhpcy5fb25Ub3VjaE1vdmUpXHJcbiAgICAgICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfVVAsdGhpcyx0aGlzLl9vblRvdWNoVXApO1xyXG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuX21pblNwLHtcclxuICAgICAgICAgICAgICAgIHg6dGhpcy5fY2VudGVyUG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICAgIHk6dGhpcy5fY2VudGVyUG9zaXRpb24ueSxcclxuICAgICAgICAgICAgfSwxMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgR2FtZVVJLCB7IFVJTmFtZSB9IGZyb20gXCIuL0dhbWVVSVwiO1xyXG5pbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi4vR2FtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgR2FtZURhdGEgZnJvbSBcIi4vR2FtZURhdGFcIjtcclxuaW1wb3J0IFRvb2xVdGlscyBmcm9tIFwiLi4vY29uZmlnL1Rvb2xVdGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIOibh+exu1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU25ha2UgZXh0ZW5kcyBMYXlhLlNwcml0ZXtcclxuICAgIGlkOnN0cmluZztcclxuICAgIEFJOmJvb2xlYW49ZmFsc2U7IC8v5piv5ZCm5Li6YWk7XHJcblxyXG4gICAgYm9keUxpc3Q6QXJyYXk8TGF5YS5TcHJpdGU+PVtdOy8v6JuH6Lqr5pWw57uEXHJcbiAgICBzbmFrZUVhdEJlYW5OdW06bnVtYmVyPTIwOy8v6JuH6Lqr6ZW/5bqmXHJcbiAgICBvbmVCb2R5QmVhbk51bTpudW1iZXI9NTsvL+WQg+WHoOmil+ixhuWinuWKoOS4gOiKgui6q+S9k1xyXG4gICAgc25ha2VDb2xOdW06bnVtYmVyOy8v6JuH6aKc6Imy44CC44CCXHJcblxyXG4gICAgc3BlZWRPYmo9e1wic2xvd1wiOjQsXCJmYXN0XCI6NixcInJvdGF0aW9uXCI6MH0vL+ibh+enu+WKqOmAn+W6plxyXG4gICAgc3BlZWROb3c6c3RyaW5nPVwic2xvd1wiO1xyXG4gICAgXHJcbiAgICBraWxsOmJvb2xlYW49ZmFsc2U7Ly/mmK/lkKbmjILkuoZcclxuICAgIEludmluY2libGVTZWNvbmQ6Ym9vbGVhbj10cnVlOy8v5peg5pWMM+enklxyXG5cclxuICAgIHBhdGhMaXN0OkFycmF5PE9iamVjdD49W107Ly/om4flpLTnp7vliqjovajov7nmlbDnu4TvvIjku6XmnIDlsI/ljZXkvY0x5bu656uL5pWw57uE77yJLOmYn+WIl1xyXG4gICAgbmFtZVRleHQ6TGF5YS5UZXh0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHgseSxpZCxjb2w6bnVtYmVyPU1hdGgucm91bmQoTWF0aC5yYW5kb20oKSo0KzEpKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaWQ9aWQ7XHJcbiAgICAgICAgdGhpcy5zbmFrZUNvbE51bT1jb2w7XHJcbiAgICAgICAgdGhpcy56T3JkZXI9MTtcclxuICAgICAgICB0aGlzLndpZHRoPTQwO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0PTQwO1xyXG4gICAgICAgIHRoaXMucGl2b3QoMjAsMjApO1xyXG4gICAgICAgIHRoaXMucG9zKHgseSk7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZVRleHQ9bmV3IExheWEuVGV4dCgpO1xyXG4gICAgICAgIHRoaXMubmFtZVRleHQudGV4dD10aGlzLmlkO1xyXG4gICAgICAgIHRoaXMubmFtZVRleHQucG9zKDIwLDIwKTtcclxuICAgICAgICB0aGlzLm5hbWVUZXh0LnBpdm90KDIwLDQwKTtcclxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMubmFtZVRleHQpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICBcclxuICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMzAwMCx0aGlzLHRoaXMuX2NoYW5nZUludmluKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2NoYW5nZUludmluKCk6dm9pZHsvL+WPlua2iOaXoOaVjOeKtuaAgVxyXG4gICAgICAgIHRoaXMuSW52aW5jaWJsZVNlY29uZD1mYWxzZTtcclxuICAgIH1cclxuICAgIGluaXQoKTp2b2lke1xyXG4gICAgICAgIHRoaXMubG9hZEltYWdlKFwiaW1hZ2VzL2hlYWRcIit0aGlzLnNuYWtlQ29sTnVtK1wiLnBuZ1wiKTtcclxuICAgICAgICAvL+WIneWni+WMluibh+i6q1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8TWF0aC5mbG9vcih0aGlzLnNuYWtlRWF0QmVhbk51bS90aGlzLm9uZUJvZHlCZWFuTnVtKTtpKyspe1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRCb2R5KHRoaXMueCx0aGlzLnkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5re75Yqg5LiA6IqC6Lqr5L2TXHJcbiAgICAgKiBAcGFyYW0geCBcclxuICAgICAqIEBwYXJhbSB5IFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9hZGRCb2R5KHgseSk6dm9pZHtcclxuICAgICAgICB2YXIgc3A9bmV3IExheWEuU3ByaXRlKCk7XHJcbiAgICAgICAgICAgIHNwLmxvYWRJbWFnZShcImltYWdlcy9ib2R5XCIrdGhpcy5zbmFrZUNvbE51bStcIi5wbmdcIik7XHJcbiAgICAgICAgICAgIHNwLnBpdm90KDIwLDIwKTtcclxuICAgICAgICAgICAgc3AucG9zKHgseSk7XHJcbiAgICAgICAgdGhpcy5ib2R5TGlzdC51bnNoaWZ0KHNwKTtcclxuICAgICAgICBHYW1lVUkuaW5zdGFuY2UuZ2FtZUJveC5hZGRDaGlsZChzcCk7XHJcbiAgICB9XHJcbiAgICAvL+ibh+i6q+enu+WKqFxyXG4gICAgcHJpdmF0ZSBfYm9keU1vdmUoKTp2b2lke1xyXG4gICAgICAgIHZhciBvYmo7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTx0aGlzLmJvZHlMaXN0Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBvYmo9dGhpcy5wYXRoTGlzdFsyMCppXVxyXG4gICAgICAgICAgICBpZihvYmope1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5TGlzdFtpXS5wb3Mob2JqLngsb2JqLnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGF0aExpc3Quc3BsaWNlKHRoaXMuYm9keUxpc3QubGVuZ3RoKjIwKTtcclxuICAgICAgICB0aGlzLl9jaGVja1NuYWtlQm9keSgpO1xyXG4gICAgfVxyXG4gICAgLy/mo4Dmn6Xom4fouqtcclxuICAgIHByaXZhdGUgX2NoZWNrU25ha2VCb2R5KCk6dm9pZHtcclxuICAgICAgICB2YXIgbGVuPU1hdGguZmxvb3IodGhpcy5zbmFrZUVhdEJlYW5OdW0vdGhpcy5vbmVCb2R5QmVhbk51bSktdGhpcy5ib2R5TGlzdC5sZW5ndGg7XHJcbiAgICAgICAgaWYobGVuKXtcclxuICAgICAgICAgICAgdmFyIG9iaj10aGlzLnBhdGhMaXN0LnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRCb2R5KG9ialtcInhcIl0sb2JqW1wieVwiXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/liKTmlq3mnInml6DlkIPliLDkuJzopb/jgILjgILjgIJcclxuICAgIHByaXZhdGUgX2NoZWNrRWF0UHJvcCgpOnZvaWR7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTxHYW1lRGF0YS5iZWFuTGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgaWYoKFRvb2xVdGlscy5nZXREaXN0YW5jZSh0aGlzLngsdGhpcy55LEdhbWVEYXRhLmJlYW5MaXN0W2ldLngsR2FtZURhdGEuYmVhbkxpc3RbaV0ueSktR2FtZURhdGEuYmVhbkxpc3RbaV0ud2lkdGgvMik8MzApe1xyXG4gICAgICAgICAgICAgICAgdmFyIGJlYW49R2FtZURhdGEuYmVhbkxpc3Quc3BsaWNlKGksMSlcclxuICAgICAgICAgICAgICAgIExheWEuVHdlZW4udG8oYmVhblswXSx7XHJcbiAgICAgICAgICAgICAgICAgICAgeDp0aGlzLngsXHJcbiAgICAgICAgICAgICAgICAgICAgeTp0aGlzLnlcclxuICAgICAgICAgICAgICAgIH0sMzAsbnVsbCxMYXlhLkhhbmRsZXIuY3JlYXRlKG51bGwsZnVuY3Rpb24ob2JqKXtcclxuICAgICAgICAgICAgICAgICAgICBvYmoucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICAgICAgfSxiZWFuKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNuYWtlRWF0QmVhbk51bSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/mlLnlj5jmlrnlkJFcclxuICAgIHVwTW92ZShhbmdsZSk6dm9pZHtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uPWFuZ2xlXHJcbiAgICAgICAgdGhpcy5zcGVlZE9ialtcInJvdGF0aW9uXCJdPUxheWEuVXRpbHMudG9SYWRpYW4oYW5nbGUpO1xyXG4gICAgICAgIHRoaXMubmFtZVRleHQucm90YXRpb249LWFuZ2xlO1xyXG4gICAgfVxyXG4gICAgLy/plIDmr4Hoh6rouqtcclxuICAgIGRlc3Ryb3koKTp2b2lke1xyXG4gICAgICAgIHRoaXMua2lsbD10cnVlO1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5ib2R5TGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgLy8gR2FtZVVJLmluc3RhbmNlLmdhbWVCb3gucmVtb3ZlQ2hpbGQodGhpcy5ib2R5TGlzdFtpXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9keUxpc3RbaV0ucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKTp2b2lke1xyXG4gICAgICAgIGlmKHRoaXMua2lsbClyZXR1cm47XHJcbiAgICAgICAgdmFyIHNwZWVkPXRoaXMuc3BlZWRPYmpbdGhpcy5zcGVlZE5vd10sXHJcbiAgICAgICAgICAgIG9sZD17eDp0aGlzLngseTp0aGlzLnl9O1xyXG5cclxuICAgICAgICB0aGlzLngrPXNwZWVkKk1hdGguY29zKHRoaXMuc3BlZWRPYmpbXCJyb3RhdGlvblwiXSk7XHJcbiAgICAgICAgdGhpcy55Kz1zcGVlZCpNYXRoLnNpbih0aGlzLnNwZWVkT2JqW1wicm90YXRpb25cIl0pO1xyXG4gICAgICAgIGlmKHRoaXMueDwyMCl0aGlzLng9MjA7XHJcbiAgICAgICAgaWYodGhpcy54PjI5ODApdGhpcy54PTI5ODA7XHJcbiAgICAgICAgaWYodGhpcy55PDIwKXRoaXMueT0yMDtcclxuICAgICAgICBpZih0aGlzLnk+MTQ4MCl0aGlzLnk9MTQ4MDtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTxzcGVlZDtpKyspey8v6K6w5b2V5q+P5qyh6LWw6L+H55qE5Z2Q5qCH44CC44CCMeS4uuWNleS9jVxyXG4gICAgICAgICAgICB2YXIgeD0odGhpcy54LW9sZC54KSppL3NwZWVkK29sZC54LFxyXG4gICAgICAgICAgICAgICAgeT0odGhpcy55LW9sZC55KSppL3NwZWVkK29sZC55O1xyXG4gICAgICAgICAgICB0aGlzLnBhdGhMaXN0LnVuc2hpZnQoe3g6eCx5Onl9KVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9ib2R5TW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX2NoZWNrRWF0UHJvcCgpO1xyXG4gICAgfVxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XHJcbmltcG9ydCBEaWFsb2c9TGF5YS5EaWFsb2c7XHJcbmltcG9ydCBTY2VuZT1MYXlhLlNjZW5lO1xuZXhwb3J0IG1vZHVsZSB1aSB7XHJcbiAgICBleHBvcnQgY2xhc3MgZ2FtZU1haW5VSSBleHRlbmRzIFNjZW5lIHtcclxuXHRcdHB1YmxpYyB3b3JsZE1hcDpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgZ2FtZUJveDpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgc2NvcmVUZXh0OmxheWEuZGlzcGxheS5UZXh0O1xuXHRcdHB1YmxpYyBzbmFrZU51bVRleHQ6bGF5YS5kaXNwbGF5LlRleHQ7XG5cdFx0cHVibGljIGJlYW5OdW1UZXh0OmxheWEuZGlzcGxheS5UZXh0O1xuXHRcdHB1YmxpYyByb2NrZXJCb3g6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIHJvY2tlck1vdmU6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIHNwZWVkQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBVSTpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgZ2FtZU92ZXI6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIGFnYWluOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBiZWdpblVJOkxheWEuU3ByaXRlO1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiZ2FtZU1haW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHIiXX0=
